{"remainingRequest":"/home/user_1/root/system/node_modules/thread-loader/dist/cjs.js!/home/user_1/root/system/node_modules/babel-loader/lib/index.js!/home/user_1/root/system/node_modules/eslint-loader/index.js??ref--13-0!/home/user_1/root/system/src/assets/js/Sio.js","dependencies":[{"path":"/home/user_1/root/system/src/assets/js/Sio.js","mtime":1609844336633},{"path":"/home/user_1/root/system/node_modules/cache-loader/dist/cjs.js","mtime":1612517717532},{"path":"/home/user_1/root/system/node_modules/thread-loader/dist/cjs.js","mtime":1612517717581},{"path":"/home/user_1/root/system/node_modules/babel-loader/lib/index.js","mtime":1612517717486},{"path":"/home/user_1/root/system/node_modules/eslint-loader/index.js","mtime":1612517734020}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwovKiBnbG9iYWwgKi8KCnZhciBjb25maWcgPSByZXF1aXJlKCJAL2Fzc2V0cy9qcy9Db25maWcuanMiKTsKCnZhciBpbyA9IHJlcXVpcmUoInNvY2tldC5pby1jbGllbnQiKTsKCnZhciBzb2NrZXRJbyA9IGlvKGNvbmZpZy5zZXR0aW5nKCkud2Vic29ja2V0LnVybCk7Cgp2YXIgc2VuZE1lc3NhZ2UgPSBmdW5jdGlvbiBzZW5kTWVzc2FnZShzb2NrZXRUYWcsIGNvbW1hbmQsIHRpbWUpIHsKICBpZiAodGltZSAhPT0gdW5kZWZpbmVkICYmIHRpbWUgPiAwKSB7CiAgICB2YXIgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgIHNvY2tldElvLmVtaXQoc29ja2V0VGFnLCBjb21tYW5kKTsKICAgIH0sIHRpbWUpOwogICAgcmV0dXJuIGludGVydmFsOwogIH0gZWxzZSBzb2NrZXRJby5lbWl0KHNvY2tldFRhZywgY29tbWFuZCk7CgogIHJldHVybiBudWxsOwp9OwoKdmFyIHJlYWRNZXNzYWdlID0gZnVuY3Rpb24gcmVhZE1lc3NhZ2Uoc29ja2V0VGFnLCBjYWxsYmFjaykgewogIHNvY2tldElvLm9uKHNvY2tldFRhZywgZnVuY3Rpb24gKGRhdGEpIHsKICAgIGlmIChjYWxsYmFjayAhPT0gdW5kZWZpbmVkKSBjYWxsYmFjayhkYXRhKTsKICB9KTsKfTsKCnZhciBzdG9wUmVhZCA9IGZ1bmN0aW9uIHN0b3BSZWFkKHNvY2tldFRhZykgewogIHNvY2tldElvLm9mZihzb2NrZXRUYWcpOwp9OwoKZXhwb3J0cy5zZW5kTWVzc2FnZSA9IHNlbmRNZXNzYWdlOwpleHBvcnRzLnJlYWRNZXNzYWdlID0gcmVhZE1lc3NhZ2U7CmV4cG9ydHMuc3RvcFJlYWQgPSBzdG9wUmVhZDs="},{"version":3,"sources":["/home/user_1/root/system/src/assets/js/Sio.js"],"names":["config","require","io","socketIo","setting","websocket","url","sendMessage","socketTag","command","time","undefined","interval","setInterval","emit","readMessage","callback","on","data","stopRead","off","exports"],"mappings":"AAAA;AAEA;;AAEA,IAAMA,MAAM,GAAGC,OAAO,CAAC,uBAAD,CAAtB;;AAEA,IAAMC,EAAE,GAAGD,OAAO,CAAC,kBAAD,CAAlB;;AAEA,IAAME,QAAQ,GAAGD,EAAE,CAACF,MAAM,CAACI,OAAP,GAAiBC,SAAjB,CAA2BC,GAA5B,CAAnB;;AAEA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,SAAD,EAAYC,OAAZ,EAAqBC,IAArB,EAA8B;AAC9C,MAAIA,IAAI,KAAKC,SAAT,IAAsBD,IAAI,GAAG,CAAjC,EAAoC;AAChC,QAAME,QAAQ,GAAGC,WAAW,CAAC,YAAM;AAC/BV,MAAAA,QAAQ,CAACW,IAAT,CAAcN,SAAd,EAAyBC,OAAzB;AACH,KAF2B,EAEzBC,IAFyB,CAA5B;AAIA,WAAOE,QAAP;AACH,GAND,MAQIT,QAAQ,CAACW,IAAT,CAAcN,SAAd,EAAyBC,OAAzB;;AAEJ,SAAO,IAAP;AACH,CAZD;;AAcA,IAAMM,WAAW,GAAG,SAAdA,WAAc,CAACP,SAAD,EAAYQ,QAAZ,EAAyB;AACzCb,EAAAA,QAAQ,CAACc,EAAT,CAAYT,SAAZ,EAAuB,UAACU,IAAD,EAAU;AAC7B,QAAIF,QAAQ,KAAKL,SAAjB,EACIK,QAAQ,CAACE,IAAD,CAAR;AACP,GAHD;AAIH,CALD;;AAOA,IAAMC,QAAQ,GAAG,SAAXA,QAAW,CAACX,SAAD,EAAe;AAC5BL,EAAAA,QAAQ,CAACiB,GAAT,CAAaZ,SAAb;AACH,CAFD;;AAIAa,OAAO,CAACd,WAAR,GAAsBA,WAAtB;AACAc,OAAO,CAACN,WAAR,GAAsBA,WAAtB;AACAM,OAAO,CAACF,QAAR,GAAmBA,QAAnB","sourcesContent":["\"use strict\";\r\n\r\n/* global */\r\n\r\nconst config = require(\"@/assets/js/Config.js\");\r\n\r\nconst io = require(\"socket.io-client\");\r\n\r\nconst socketIo = io(config.setting().websocket.url);\r\n\r\nconst sendMessage = (socketTag, command, time) => {\r\n    if (time !== undefined && time > 0) {\r\n        const interval = setInterval(() => {\r\n            socketIo.emit(socketTag, command);\r\n        }, time);\r\n\r\n        return interval;\r\n    }\r\n    else\r\n        socketIo.emit(socketTag, command);\r\n\r\n    return null;\r\n};\r\n\r\nconst readMessage = (socketTag, callback) => {\r\n    socketIo.on(socketTag, (data) => {\r\n        if (callback !== undefined)\r\n            callback(data);\r\n    });\r\n};\r\n\r\nconst stopRead = (socketTag) => {\r\n    socketIo.off(socketTag);\r\n}\r\n\r\nexports.sendMessage = sendMessage;\r\nexports.readMessage = readMessage;\r\nexports.stopRead = stopRead;"]}]}