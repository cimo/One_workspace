{"remainingRequest":"/home/user_1/root/system/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user_1/root/system/src/components/ToolTerser.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/user_1/root/system/src/components/ToolTerser.vue","mtime":1612864811210},{"path":"/home/user_1/root/system/node_modules/cache-loader/dist/cjs.js","mtime":1612517717532},{"path":"/home/user_1/root/system/node_modules/thread-loader/dist/cjs.js","mtime":1612517717581},{"path":"/home/user_1/root/system/node_modules/babel-loader/lib/index.js","mtime":1612517717486},{"path":"/home/user_1/root/system/node_modules/cache-loader/dist/cjs.js","mtime":1612517717532},{"path":"/home/user_1/root/system/node_modules/vue-loader/lib/index.js","mtime":1612802232969}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ29uZmlnIGZyb20gIkAvYXNzZXRzL2pzL0NvbmZpZy5qcyI7DQppbXBvcnQgSGVscGVyIGZyb20gIkAvYXNzZXRzL2pzL0hlbHBlciI7DQppbXBvcnQgU2lvIGZyb20gIkAvYXNzZXRzL2pzL1NpbyI7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgICBuYW1lOiAiVG9vbFRlcnNlckNvbXBvbmVudCIsDQogICAgLy9jb21wb25lbnRzOiB7fSwNCiAgICBjb21wdXRlZDoge30sDQogICAgbWV0aG9kczogew0KICAgICAgICBfc2V0dGluZzogQ29uZmlnLnNldHRpbmcsDQogICAgICAgIF9maW5kUGFyZW50OiBIZWxwZXIuZmluZFBhcmVudCwNCiAgICAgICAgX2NhcGl0YWxpemVGaXJzdExldHRlcjogSGVscGVyLmNhcGl0YWxpemVGaXJzdExldHRlciwNCiAgICAgICAgX2N1cnJlbnRXaW5kb3dFbGVtZW50OiBIZWxwZXIuY3VycmVudFdpbmRvd0VsZW1lbnQsDQogICAgICAgIGluaXQod2luZG93Q29tcG9uZW50KSB7DQogICAgICAgICAgICBjb25zdCBjdXJyZW50V2luZG93RWxlbWVudCA9IHRoaXMuX2N1cnJlbnRXaW5kb3dFbGVtZW50KHdpbmRvd0NvbXBvbmVudCk7DQoNCiAgICAgICAgICAgIGlmIChjdXJyZW50V2luZG93RWxlbWVudCAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RWRpdCA9IHdpbmRvd0NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKCJzZWxlY3RbbmFtZT0nZWRpdCddIik7DQogICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZvbGRlcklucHV0ID0gd2luZG93Q29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoImlucHV0W25hbWU9J2ZvbGRlcl9pbnB1dCddIik7DQogICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZvbGRlck91dHB1dCA9IHdpbmRvd0NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKCJpbnB1dFtuYW1lPSdmb2xkZXJfb3V0cHV0J10iKTsNCiAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvblNhdmUgPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigiLmJ1dHRvbl9jbWRfd2luZG93LnNhdmUiKTsNCiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRPdXRwdXQgPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigiLm91dHB1dCIpOw0KDQogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0RWRpdCAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgICAgICBTaW8uc2VuZE1lc3NhZ2UoInRfZXhlY19pIiwgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiAidGVyc2VySW5pdCIsDQogICAgICAgICAgICAgICAgICAgICAgICBjbWQ6IGBscyAiJHt0aGlzLl9zZXR0aW5nKCkuc3lzdGVtRGF0YS5wYXRoU2V0dGluZ30iLyoke3RoaXMuX3NldHRpbmcoKS5zeXN0ZW1EYXRhLmV4dGVuc2lvblRlcnNlcn0gfCBzZWQgJ3MjLiovIyMnYA0KICAgICAgICAgICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgICAgICAgICBTaW8ucmVhZE1lc3NhZ2UoInRfZXhlY19vX3RlcnNlckluaXQiLCAoZGF0YSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGF0YS5vdXQgIT09IHVuZGVmaW5lZCA/IGRhdGEub3V0IDogZGF0YS5lcnI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG91dFNwbGl0ID0gcmVzdWx0LnNwbGl0KCJcbiIpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBvdXRTcGxpdCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgIT09ICIiICYmIHZhbHVlLmluZGV4T2YoImxzOiAiKSA9PT0gLTEpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dCA9IHZhbHVlLnJlcGxhY2UodGhpcy5fc2V0dGluZygpLnN5c3RlbURhdGEuZXh0ZW5zaW9uVGVyc2VyLCAiIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEVkaXQuYXBwZW5kQ2hpbGQob3B0aW9uKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY2xvc2UgIT09IHVuZGVmaW5lZCkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW8uc3RvcFJlYWQoInRfZXhlY19vX3RlcnNlckluaXQiKTsNCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjbGlja0xvZ2ljKGV2ZW50KSB7DQogICAgICAgICAgICBjb25zdCB3aW5kb3dDb21wb25lbnQgPSB0aGlzLl9maW5kUGFyZW50KGV2ZW50LnRhcmdldCwgWyJ0ZXJzZXJfY29tcG9uZW50Il0sIFsid2luZG93X2NvbXBvbmVudCJdKTsNCiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRXaW5kb3dFbGVtZW50ID0gdGhpcy5fY3VycmVudFdpbmRvd0VsZW1lbnQod2luZG93Q29tcG9uZW50KTsNCg0KICAgICAgICAgICAgaWYgKGN1cnJlbnRXaW5kb3dFbGVtZW50ICE9PSBudWxsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RFZGl0LnN0eWxlLmJvcmRlckNvbG9yID0gInRyYW5zcGFyZW50IjsNCiAgICAgICAgICAgICAgICB0aGlzLmlucHV0Rm9sZGVySW5wdXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAidHJhbnNwYXJlbnQiOw0KICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRGb2xkZXJPdXRwdXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAidHJhbnNwYXJlbnQiOw0KDQogICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoInNhdmUiKSA9PT0gdHJ1ZSkgew0KICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9qZWN0TmFtZSAhPT0gIiIgJiYgdGhpcy5pbnB1dEZvbGRlcklucHV0LnZhbHVlICE9PSAiIiAmJiB0aGlzLmlucHV0Rm9sZGVyT3V0cHV0ICE9PSAiIikNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3JlYXRlRmlsZSgpOw0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0Rm9sZGVySW5wdXQudmFsdWUgPT09ICIiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRGb2xkZXJJbnB1dC5zdHlsZS5ib3JkZXJDb2xvciA9ICIjZmYwMDAwIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlucHV0Rm9sZGVyT3V0cHV0LnZhbHVlID09PSAiIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0Rm9sZGVyT3V0cHV0LnN0eWxlLmJvcmRlckNvbG9yID0gIiNmZjAwMDAiOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImJ1dHRvbl9jbWRfd2luZG93IikgPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvamVjdE5hbWUgPT09ICIiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEVkaXQuc3R5bGUuYm9yZGVyQ29sb3IgPSAiI2ZmMDAwMCI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudE91dHB1dC5pbm5lckhUTUwgPSAiIjsNCg0KICAgICAgICAgICAgICAgICAgICBjb25zdCBpbnB1dCA9IGAke3RoaXMucHJvamVjdFBhdGh9JHt0aGlzLmlucHV0Rm9sZGVySW5wdXQudmFsdWV9YDsNCiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gYCR7dGhpcy5wcm9qZWN0UGF0aH0ke3RoaXMuaW5wdXRGb2xkZXJPdXRwdXQudmFsdWV9YDsNCg0KICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWFuZCA9ICIiOw0KDQogICAgICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJleGVjdXRlIikgPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1hbmQgPSBgZmluZCAiJHtpbnB1dH0iIC1uYW1lICcqLm1pbi5qcycgLWRlbGV0ZWA7DQogICAgICAgICAgICAgICAgICAgICAgICBjb21tYW5kICs9ICImJiBlY2hvIFwiJChmaW5kIFwiIiArIGlucHV0ICsgIlwiIC1uYW1lICcqLmpzJylcIiB8IHdoaWxlIHJlYWQgZmlsZU5hbWU7IGRvIHRlcnNlciBcIiRmaWxlTmFtZVwiIC0tY29tcHJlc3MgLS1tYW5nbGUgLS1vdXRwdXQgXCIiICsgb3V0cHV0ICsgIi8kKGJhc2VuYW1lICR7ZmlsZU5hbWUlJS4qfSkubWluLmpzXCI7IGRvbmUiOw0KICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZCArPSBgJiYgbHMgIiR7b3V0cHV0fSIvKi5taW4uanMgfCBzZWQgJ3MjLiovIyMnYDsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChjb21tYW5kID09PSAiIikNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCg0KICAgICAgICAgICAgICAgICAgICBTaW8uc2VuZE1lc3NhZ2UoInRfZXhlY19pIiwgew0KICAgICAgICAgICAgICAgICAgICAgICAgdGFnOiAidGVyc2VyQ29tbWFuZCIsDQogICAgICAgICAgICAgICAgICAgICAgICBjbWQ6IGNvbW1hbmQsDQogICAgICAgICAgICAgICAgICAgIH0pOw0KDQogICAgICAgICAgICAgICAgICAgIGxldCBidWZmZXIgPSAiIjsNCg0KICAgICAgICAgICAgICAgICAgICBTaW8ucmVhZE1lc3NhZ2UoInRfZXhlY19vX3RlcnNlckNvbW1hbmQiLCAoZGF0YSkgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGF0YS5vdXQgIT09IHVuZGVmaW5lZCA/IGRhdGEub3V0IDogZGF0YS5lcnI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCAmJiBldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJleGVjdXRlIikgPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWZmZXIgPSByZXN1bHQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50T3V0cHV0LmlubmVySFRNTCA9IGJ1ZmZlcjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY2xvc2UgIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpby5zdG9wUmVhZCgidF9leGVjX29fdGVyc2VyQ29tbWFuZCIpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50T3V0cHV0LmlubmVySFRNTCA9IGJ1ZmZlcjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjaGFuZ2VMb2dpYyhldmVudCkgew0KICAgICAgICAgICAgY29uc3Qgd2luZG93Q29tcG9uZW50ID0gdGhpcy5fZmluZFBhcmVudChldmVudC50YXJnZXQsIFsidGVyc2VyX2NvbXBvbmVudCJdLCBbIndpbmRvd19jb21wb25lbnQiXSk7DQogICAgICAgICAgICBjb25zdCBjdXJyZW50V2luZG93RWxlbWVudCA9IHRoaXMuX2N1cnJlbnRXaW5kb3dFbGVtZW50KHdpbmRvd0NvbXBvbmVudCk7DQoNCiAgICAgICAgICAgIGlmIChjdXJyZW50V2luZG93RWxlbWVudCAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJlZGl0IikgPT09IHRydWUpIHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0RWRpdC5zZWxlY3RlZEluZGV4ID4gMCkgew0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uVmFsdWUgPSB0aGlzLnNlbGVjdEVkaXQub3B0aW9uc1t0aGlzLnNlbGVjdEVkaXQuc2VsZWN0ZWRJbmRleF0udmFsdWU7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIFNpby5zZW5kTWVzc2FnZSgidF9leGVjX3N0cmVhbV9pIiwgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogInRlcnNlckNoYW5nZUxvZ2ljRWRpdCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kOiAicmVhZCIsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogYCR7dGhpcy5fc2V0dGluZygpLnN5c3RlbURhdGEucGF0aFNldHRpbmd9LyR7b3B0aW9uVmFsdWV9YA0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBidWZmZXIgPSAiIjsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgU2lvLnJlYWRNZXNzYWdlKCJ0X2V4ZWNfc3RyZWFtX29fdGVyc2VyQ2hhbmdlTG9naWNFZGl0IiwgKGRhdGEpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jaHVuayAhPT0gImVuZCIpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciArPSBkYXRhLmNodW5rOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW8uc3RvcFJlYWQoInRfZXhlY19zdHJlYW1fb190ZXJzZXJDaGFuZ2VMb2dpY0VkaXQiKTsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKGJ1ZmZlcik7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0TmFtZSA9IHJlc3VsdC5uYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2plY3RQYXRoID0gcmVzdWx0LnBhdGg7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRGb2xkZXJJbnB1dC52YWx1ZSA9IHJlc3VsdC5pbnB1dDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZvbGRlck91dHB1dC52YWx1ZSA9IHJlc3VsdC5vdXRwdXQ7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudE91dHB1dC5pbm5lckhUTUwgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdE5hbWUgPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvamVjdFBhdGggPSAiIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRGb2xkZXJJbnB1dC52YWx1ZSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZvbGRlck91dHB1dC52YWx1ZSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50T3V0cHV0LmlubmVySFRNTCA9ICIiOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICBjcmVhdGVGaWxlKG5hbWUsIHBhdGgpIHsNCiAgICAgICAgICAgIGlmIChuYW1lICE9PSB1bmRlZmluZWQpDQogICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0TmFtZSA9IG5hbWU7DQoNCiAgICAgICAgICAgIGlmIChwYXRoICE9PSB1bmRlZmluZWQpDQogICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0UGF0aCA9IHBhdGg7DQoNCiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7DQogICAgICAgICAgICAgICAgaW5wdXQ6IHRoaXMuaW5wdXRGb2xkZXJJbnB1dCAhPT0gbnVsbCA/IHRoaXMuaW5wdXRGb2xkZXJJbnB1dC52YWx1ZSA6ICIiLA0KICAgICAgICAgICAgICAgIG91dHB1dDogdGhpcy5pbnB1dEZvbGRlck91dHB1dCAhPT0gbnVsbCA/IHRoaXMuaW5wdXRGb2xkZXJPdXRwdXQudmFsdWUgOiAiIiwNCiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLnByb2plY3ROYW1lLA0KICAgICAgICAgICAgICAgIHBhdGg6IHRoaXMucHJvamVjdFBhdGgNCiAgICAgICAgICAgIH07DQoNCiAgICAgICAgICAgIFNpby5zZW5kTWVzc2FnZSgidF9leGVjX3N0cmVhbV9pIiwgew0KICAgICAgICAgICAgICAgIHRhZzogInRlcnNlckNsaWNrTG9naWNTYXZlIiwNCiAgICAgICAgICAgICAgICBjbWQ6ICJ3cml0ZSIsDQogICAgICAgICAgICAgICAgcGF0aDogYCR7dGhpcy5fc2V0dGluZygpLnN5c3RlbURhdGEucGF0aFNldHRpbmd9LyR7dGhpcy5wcm9qZWN0TmFtZX0ke3RoaXMuX3NldHRpbmcoKS5zeXN0ZW1EYXRhLmV4dGVuc2lvblRlcnNlcn1gLA0KICAgICAgICAgICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpDQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0RWRpdCAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIFNpby5yZWFkTWVzc2FnZSgidF9leGVjX3N0cmVhbV9vX3RlcnNlckNsaWNrTG9naWNTYXZlIiwgKGRhdGEpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY2h1bmsgPT09ICJlbmQiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBTaW8uc3RvcFJlYWQoInRfZXhlY19zdHJlYW1fb190ZXJzZXJDbGlja0xvZ2ljU2F2ZSIpOw0KDQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb25WYWx1ZSA9IGAke3RoaXMucHJvamVjdE5hbWV9JHt0aGlzLl9zZXR0aW5nKCkuc3lzdGVtRGF0YS5leHRlbnNpb25UZXJzZXJ9YDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0RWRpdC5xdWVyeVNlbGVjdG9yKGBvcHRpb25bdmFsdWU9JyR7b3B0aW9uVmFsdWV9J2ApID09PSBudWxsKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgib3B0aW9uIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gb3B0aW9uVmFsdWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnRleHQgPSB0aGlzLnByb2plY3ROYW1lOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RWRpdC5hcHBlbmRDaGlsZChvcHRpb24pOw0KDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RFZGl0LnF1ZXJ5U2VsZWN0b3IoYG9wdGlvblt2YWx1ZT0nJHtvcHRpb25WYWx1ZX0nYCkuc2VsZWN0ZWQgPSB0cnVlOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIGRlbGV0ZU9wdGlvbigpIHsNCiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdEVkaXQgIT09IG51bGwpIHsNCiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiB0aGlzLnNlbGVjdEVkaXQub3B0aW9ucykgew0KICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9uLnZhbHVlID09PSBgJHt0aGlzLnByb2plY3ROYW1lfSR7dGhpcy5fc2V0dGluZygpLnN5c3RlbURhdGEuZXh0ZW5zaW9uVGVyc2VyfWApIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5yZW1vdmUoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RWRpdC5zZWxlY3RlZEluZGV4ID0gMDsNCg0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0TmFtZSA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9qZWN0UGF0aCA9ICIiOw0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEZvbGRlcklucHV0LnZhbHVlID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0Rm9sZGVyT3V0cHV0LnZhbHVlID0gIiI7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRPdXRwdXQuaW5uZXJIVE1MID0gIiI7DQoNCiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgfSwNCiAgICBkYXRhKCkgew0KICAgICAgICByZXR1cm4gew0KICAgICAgICAgICAgcHJvamVjdE5hbWU6ICIiLA0KICAgICAgICAgICAgcHJvamVjdFBhdGg6ICIiLA0KICAgICAgICAgICAgc2VsZWN0RWRpdDogbnVsbCwNCiAgICAgICAgICAgIGlucHV0Rm9sZGVySW5wdXQ6IG51bGwsDQogICAgICAgICAgICBpbnB1dEZvbGRlck91dHB1dDogbnVsbCwNCiAgICAgICAgICAgIGVsZW1lbnRPdXRwdXQ6IG51bGwsDQogICAgICAgICAgICBidXR0b25TYXZlOiBudWxsDQogICAgICAgIH07DQogICAgfSwNCiAgICBjcmVhdGVkKCkgew0KICAgICAgICB0aGlzLiRyb290LiRyZWZzLnRvb2xUZXJzZXJDb21wb25lbnQgPSB0aGlzOw0KICAgIH0sDQogICAgYmVmb3JlRGVzdHJveSgpIHt9DQp9DQo="},{"version":3,"sources":["ToolTerser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ToolTerser.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"terser_component\">\r\n        <div class=\"left\">\r\n            <div class=\"section\">\r\n                <p>List:</p>\r\n                <select class=\"edit\" name=\"edit\">\r\n                    <option value=\"0\">Edit exist terser</option>\r\n                </select>\r\n            </div>\r\n            <div class=\"section\">\r\n                <p>Folder input:</p>\r\n                <input type=\"text\" name=\"folder_input\" value=\"\"/>\r\n            </div>\r\n            <div class=\"section\">\r\n                <p>Folder output:</p>\r\n                <input type=\"text\" name=\"folder_output\" value=\"\"/>\r\n            </div>\r\n        </div>\r\n        <div class=\"right\">\r\n            <div class=\"section\">\r\n                <div class=\"button_cmd_window terser_command execute\">Execute</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"section\">\r\n            <p>Output:</p>\r\n            <pre class=\"output\"></pre>\r\n        </div>\r\n        <div class=\"bottom\">\r\n            <div class=\"button_cmd_window save\">Save</div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport Config from \"@/assets/js/Config.js\";\r\nimport Helper from \"@/assets/js/Helper\";\r\nimport Sio from \"@/assets/js/Sio\";\r\n\r\nexport default {\r\n    name: \"ToolTerserComponent\",\r\n    //components: {},\r\n    computed: {},\r\n    methods: {\r\n        _setting: Config.setting,\r\n        _findParent: Helper.findParent,\r\n        _capitalizeFirstLetter: Helper.capitalizeFirstLetter,\r\n        _currentWindowElement: Helper.currentWindowElement,\r\n        init(windowComponent) {\r\n            const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n            if (currentWindowElement !== null) {\r\n                this.selectEdit = windowComponent.querySelector(\"select[name='edit']\");\r\n                this.inputFolderInput = windowComponent.querySelector(\"input[name='folder_input']\");\r\n                this.inputFolderOutput = windowComponent.querySelector(\"input[name='folder_output']\");\r\n                this.buttonSave = windowComponent.querySelector(\".button_cmd_window.save\");\r\n                this.elementOutput = windowComponent.querySelector(\".output\");\r\n\r\n                if (this.selectEdit !== null) {\r\n                    Sio.sendMessage(\"t_exec_i\", {\r\n                        tag: \"terserInit\",\r\n                        cmd: `ls \"${this._setting().systemData.pathSetting}\"/*${this._setting().systemData.extensionTerser} | sed 's#.*/##'`\r\n                    });\r\n\r\n                    Sio.readMessage(\"t_exec_o_terserInit\", (data) => {\r\n                        const result = data.out !== undefined ? data.out : data.err;\r\n\r\n                        if (result !== undefined) {\r\n                            const outSplit = result.split(\"\\n\");\r\n\r\n                            for (const value of outSplit) {\r\n                                if (value !== \"\" && value.indexOf(\"ls: \") === -1) {\r\n                                    const option = document.createElement(\"option\");\r\n                                    option.value = value;\r\n                                    option.text = value.replace(this._setting().systemData.extensionTerser, \"\");\r\n                                    this.selectEdit.appendChild(option);\r\n                                }\r\n                            }\r\n                        }\r\n\r\n                        if (data.close !== undefined)\r\n                            Sio.stopRead(\"t_exec_o_terserInit\");\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        clickLogic(event) {\r\n            const windowComponent = this._findParent(event.target, [\"terser_component\"], [\"window_component\"]);\r\n            const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n            if (currentWindowElement !== null) {\r\n                this.selectEdit.style.borderColor = \"transparent\";\r\n                this.inputFolderInput.style.borderColor = \"transparent\";\r\n                this.inputFolderOutput.style.borderColor = \"transparent\";\r\n\r\n                if (event.target.classList.contains(\"save\") === true) {\r\n                    if (this.projectName !== \"\" && this.inputFolderInput.value !== \"\" && this.inputFolderOutput !== \"\")\r\n                        this.createFile();\r\n                    else {\r\n                        if (this.inputFolderInput.value === \"\")\r\n                            this.inputFolderInput.style.borderColor = \"#ff0000\";\r\n                        if (this.inputFolderOutput.value === \"\")\r\n                            this.inputFolderOutput.style.borderColor = \"#ff0000\";\r\n                    }\r\n                }\r\n\r\n                if (event.target.classList.contains(\"button_cmd_window\") === true) {\r\n                    if (this.projectName === \"\") {\r\n                        this.selectEdit.style.borderColor = \"#ff0000\";\r\n\r\n                        return false;\r\n                    }\r\n\r\n                    this.elementOutput.innerHTML = \"\";\r\n\r\n                    const input = `${this.projectPath}${this.inputFolderInput.value}`;\r\n                    const output = `${this.projectPath}${this.inputFolderOutput.value}`;\r\n\r\n                    let command = \"\";\r\n\r\n                    if (event.target.classList.contains(\"execute\") === true) {\r\n                        command = `find \"${input}\" -name '*.min.js' -delete`;\r\n                        command += \"&& echo \\\"$(find \\\"\" + input + \"\\\" -name '*.js')\\\" | while read fileName; do terser \\\"$fileName\\\" --compress --mangle --output \\\"\" + output + \"/$(basename ${fileName%%.*}).min.js\\\"; done\";\r\n                        command += `&& ls \"${output}\"/*.min.js | sed 's#.*/##'`;\r\n                    }\r\n\r\n                    if (command === \"\")\r\n                        return false;\r\n\r\n                    Sio.sendMessage(\"t_exec_i\", {\r\n                        tag: \"terserCommand\",\r\n                        cmd: command,\r\n                    });\r\n\r\n                    let buffer = \"\";\r\n\r\n                    Sio.readMessage(\"t_exec_o_terserCommand\", (data) => {\r\n                        const result = data.out !== undefined ? data.out : data.err;\r\n\r\n                        if (result !== undefined && event.target.classList.contains(\"execute\") === true) {\r\n                            buffer = result;\r\n                            this.elementOutput.innerHTML = buffer;\r\n                        }\r\n\r\n                        if (data.close !== undefined) {\r\n                            Sio.stopRead(\"t_exec_o_terserCommand\");\r\n\r\n                            this.elementOutput.innerHTML = buffer;\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n        },\r\n        changeLogic(event) {\r\n            const windowComponent = this._findParent(event.target, [\"terser_component\"], [\"window_component\"]);\r\n            const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n            if (currentWindowElement !== null) {\r\n                if (event.target.classList.contains(\"edit\") === true) {\r\n                    if (this.selectEdit.selectedIndex > 0) {\r\n                        const optionValue = this.selectEdit.options[this.selectEdit.selectedIndex].value;\r\n\r\n                        Sio.sendMessage(\"t_exec_stream_i\", {\r\n                            tag: \"terserChangeLogicEdit\",\r\n                            cmd: \"read\",\r\n                            path: `${this._setting().systemData.pathSetting}/${optionValue}`\r\n                        });\r\n\r\n                        let buffer = \"\";\r\n\r\n                        Sio.readMessage(\"t_exec_stream_o_terserChangeLogicEdit\", (data) => {\r\n                            if (data.chunk !== \"end\")\r\n                                buffer += data.chunk;\r\n                            else {\r\n                                Sio.stopRead(\"t_exec_stream_o_terserChangeLogicEdit\");\r\n\r\n                                const result = JSON.parse(buffer);\r\n\r\n                                this.projectName = result.name;\r\n                                this.projectPath = result.path;\r\n                                this.inputFolderInput.value = result.input;\r\n                                this.inputFolderOutput.value = result.output;\r\n                                this.elementOutput.innerHTML = \"\";\r\n                            }\r\n                        });\r\n                    }\r\n                    else {\r\n                        this.projectName = \"\";\r\n                        this.projectPath = \"\";\r\n                        this.inputFolderInput.value = \"\";\r\n                        this.inputFolderOutput.value = \"\";\r\n                        this.elementOutput.innerHTML = \"\";\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        createFile(name, path) {\r\n            if (name !== undefined)\r\n                this.projectName = name;\r\n\r\n            if (path !== undefined)\r\n                this.projectPath = path;\r\n\r\n            const content = {\r\n                input: this.inputFolderInput !== null ? this.inputFolderInput.value : \"\",\r\n                output: this.inputFolderOutput !== null ? this.inputFolderOutput.value : \"\",\r\n                name: this.projectName,\r\n                path: this.projectPath\r\n            };\r\n\r\n            Sio.sendMessage(\"t_exec_stream_i\", {\r\n                tag: \"terserClickLogicSave\",\r\n                cmd: \"write\",\r\n                path: `${this._setting().systemData.pathSetting}/${this.projectName}${this._setting().systemData.extensionTerser}`,\r\n                content: JSON.stringify(content)\r\n            });\r\n\r\n            if (this.selectEdit !== null) {\r\n                Sio.readMessage(\"t_exec_stream_o_terserClickLogicSave\", (data) => {\r\n                    if (data.chunk === \"end\") {\r\n                        Sio.stopRead(\"t_exec_stream_o_terserClickLogicSave\");\r\n\r\n                        const optionValue = `${this.projectName}${this._setting().systemData.extensionTerser}`;\r\n\r\n                        if (this.selectEdit.querySelector(`option[value='${optionValue}'`) === null) {\r\n                            const option = document.createElement(\"option\");\r\n                            option.value = optionValue;\r\n                            option.text = this.projectName;\r\n                            this.selectEdit.appendChild(option);\r\n\r\n                            this.selectEdit.querySelector(`option[value='${optionValue}'`).selected = true;\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        },\r\n        deleteOption() {\r\n            if (this.selectEdit !== null) {\r\n                for (const option of this.selectEdit.options) {\r\n                    if (option.value === `${this.projectName}${this._setting().systemData.extensionTerser}`) {\r\n                        option.remove();\r\n                        this.selectEdit.selectedIndex = 0;\r\n\r\n                        this.projectName = \"\";\r\n                        this.projectPath = \"\";\r\n                        this.inputFolderInput.value = \"\";\r\n                        this.inputFolderOutput.value = \"\";\r\n                        this.elementOutput.innerHTML = \"\";\r\n\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            projectName: \"\",\r\n            projectPath: \"\",\r\n            selectEdit: null,\r\n            inputFolderInput: null,\r\n            inputFolderOutput: null,\r\n            elementOutput: null,\r\n            buttonSave: null\r\n        };\r\n    },\r\n    created() {\r\n        this.$root.$refs.toolTerserComponent = this;\r\n    },\r\n    beforeDestroy() {}\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.terser_component {\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    padding: 10px;\r\n\r\n    .left, .right {\r\n        vertical-align: top;\r\n        display: inline-block;\r\n        width: 50%;\r\n    }\r\n\r\n    .left {\r\n        .section {\r\n            margin-bottom: 20px;\r\n\r\n            input {\r\n                width: 70%;\r\n            }\r\n        }\r\n    }\r\n\r\n    .right {\r\n        .section {\r\n            text-align: center;\r\n\r\n            .button_cmd_window {\r\n                &.terser_command {\r\n                    display: inline-block;\r\n                    margin: 5px;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    .section {\r\n        .output {\r\n            overflow-y: auto;\r\n            height: 250px;\r\n        }\r\n    }\r\n\r\n    .bottom {\r\n        position: absolute;\r\n        bottom: 10px;\r\n        width: 100%;\r\n        text-align: right;\r\n\r\n        .button_cmd_window {\r\n            display: inline-block;\r\n            margin-right: 25px;\r\n        }\r\n    }\r\n}\r\n</style>"]}]}