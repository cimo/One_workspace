{"remainingRequest":"/home/user_1/root/system/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user_1/root/system/src/components/Window.vue?vue&type=style&index=0&id=5b030a20&lang=scss&scoped=true&","dependencies":[{"path":"/home/user_1/root/system/src/components/Window.vue","mtime":1612797264026},{"path":"/home/user_1/root/system/node_modules/css-loader/dist/cjs.js","mtime":1612517736416},{"path":"/home/user_1/root/system/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1612802232969},{"path":"/home/user_1/root/system/node_modules/postcss-loader/src/index.js","mtime":1612517736814},{"path":"/home/user_1/root/system/node_modules/sass-loader/dist/cjs.js","mtime":1612517748789},{"path":"/home/user_1/root/system/node_modules/cache-loader/dist/cjs.js","mtime":1612517717532},{"path":"/home/user_1/root/system/node_modules/vue-loader/lib/index.js","mtime":1612802232969}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBtZWRpYShtYXgtd2lkdGg6ICRtb2JpbGVXaWR0aCkgewogICAgLndpbmRvd19jb21wb25lbnQgewogICAgICAgIHdpZHRoOiA4MCU7CiAgICB9Cn0KQG1lZGlhKG1pbi13aWR0aDogJGRlc2t0b3BXaWR0aCkgewogICAgLndpbmRvd19jb21wb25lbnQgewogICAgICAgIHdpZHRoOiA1MCU7CiAgICB9Cn0KCi53aW5kb3dfY29tcG9uZW50IHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICBoZWlnaHQ6IDc1JTsKICAgIGJvcmRlcjogMXB4IHNvbGlkICMwMDc4ZDc7CgogICAgYm94LXNoYWRvdzogMHB4IDBweCA1cHggIzAwMDAwMDsKICAgIC13ZWJraXQtYm94LXNoYWRvdzogMHB4IDBweCA1cHggIzAwMDAwMDsKICAgIC1tb3otYm94LXNoYWRvdzogMHB4IDBweCA1cHggIzAwMDAwMDsKCiAgICAmLmZvY3VzZWQgewogICAgICAgIC5oZWFkZXIgewogICAgICAgICAgICAub3ZlcmxheSB7CiAgICAgICAgICAgICAgICBvcGFjaXR5OiAwOwogICAgICAgICAgICAgICAgcmlnaHQ6IDEzMnB4OwogICAgICAgICAgICB9CgogICAgICAgICAgICAuZHJhZyB7CiAgICAgICAgICAgICAgICBjdXJzb3I6IG1vdmU7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIC5ib2R5IHsKICAgICAgICAgICAgLm92ZXJsYXkgewogICAgICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAuaGVhZGVyIHsKICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwNzhkNzsKICAgICAgICBoZWlnaHQ6IDI4cHg7CgogICAgICAgIC5vdmVybGF5IHsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICBib3R0b206IDA7CiAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNlY2VjZWM7CiAgICAgICAgICAgIG9wYWNpdHk6IDAuNTsKICAgICAgICB9CgogICAgICAgIC5sZWZ0X2NvbHVtbiB7CiAgICAgICAgICAgIGN1cnNvcjogZGVmYXVsdDsKCiAgICAgICAgICAgIGltZyB7CiAgICAgICAgICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICAgICAgICAgICAgICB0b3A6IDUwJTsKICAgICAgICAgICAgICAgIGxlZnQ6IDhweDsKICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpOwogICAgICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgICAgICB3aWR0aDogMjBweDsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcCB7CiAgICAgICAgICAgICAgICBjb2xvcjogI2ZmZmZmZjsKICAgICAgICAgICAgICAgIG1hcmdpbjogNXB4OwogICAgICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICAgICAgbGVmdDogMzBweDsKICAgICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgLnJpZ2h0X2NvbHVtbiB7CiAgICAgICAgICAgIC5idXR0b24gewogICAgICAgICAgICAgICAgd2lkdGg6IDE4cHg7CiAgICAgICAgICAgICAgICBoZWlnaHQ6IDE4cHg7CiAgICAgICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgICAgICAgICBwYWRkaW5nOiA1cHggMTNweDsKCiAgICAgICAgICAgICAgICAmOmhvdmVyIHsKICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMWE4NmRiOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CgogICAgICAgICAgICAuYnV0dG9uX2Nsb3NlIHsKICAgICAgICAgICAgICAgICY6aG92ZXIgewogICAgICAgICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZjAwMDAgIWltcG9ydGFudDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KCiAgICAuYm9keSB7CiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlOwogICAgICAgIGJhY2tncm91bmQ6ICMyMzIzMjM7CiAgICAgICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAyOHB4KTsKICAgICAgICBjb2xvcjogI2ZmZmZmZjsKCiAgICAgICAgLm92ZXJsYXkgewogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIHJpZ2h0OiAwOwogICAgICAgICAgICBib3R0b206IDA7CiAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgfQogICAgfQp9Cg=="},{"version":3,"sources":["Window.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Window.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"window_component empty\">\r\n        <div class=\"header\">\r\n            <div class=\"left_column\">\r\n                <img src=\"@/assets/images/empty.png\" alt=\"empty.png\"/>\r\n                <p></p>\r\n            </div>\r\n            <div class=\"right_column\">\r\n                <img src=\"@/assets/images/window_minimize.svg\" class=\"button_minimize button\" alt=\"window_minimize.svg\"/>\r\n                <img src=\"@/assets/images/window_maximize.svg\" class=\"button_maximize button\" alt=\"window_maximize.svg\"/>\r\n                <img src=\"@/assets/images/window_close.svg\" class=\"button_close button\" alt=\"window_close.svg\"/>\r\n            </div>\r\n            <div class=\"overlay drag\"></div>\r\n        </div>\r\n        <div class=\"body\">\r\n            <ProjectComponent/>\r\n            <ToolComponent/>\r\n            <ContainerComponent/>\r\n            <div class=\"overlay\"></div>\r\n        </div>\r\n        <div class=\"footer\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Config from \"@/assets/js/Config.js\";\r\n    import Helper from \"@/assets/js/Helper.js\";\r\n    import ProjectComponent from \"@/components/Project.vue\";\r\n    import ToolComponent from \"@/components/Tool.vue\";\r\n    import ContainerComponent from \"@/components/Container.vue\";\r\n\r\n    export default {\r\n        name: \"WindowComponent\",\r\n        components: {\r\n            ProjectComponent,\r\n            ToolComponent,\r\n            ContainerComponent\r\n        },\r\n        computed: {},\r\n        methods: {\r\n            _setting: Config.setting,\r\n            _findParent: Helper.findParent,\r\n            _currentWindowElement: Helper.currentWindowElement,\r\n            _focusCurrentWindow: Helper.focusCurrentWindow,\r\n            _focusNextWindow: Helper.focusNextWindow,\r\n            _focusCurrentMainbarElement: Helper.focusCurrentMainbarElement,\r\n            _unMinimizeElement: Helper.unMinimizeElement,\r\n            _dragInit: Helper.dragInit,\r\n            _promptLogic: Helper.promptLogic,\r\n            _changeAppearance(windowComponent) {\r\n                const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n                if (currentWindowElement !== null) {\r\n                    if (windowComponent.classList.contains(\"maximized\") === false) {\r\n                        const clientRect = windowComponent.getBoundingClientRect();\r\n\r\n                        this.windowPositionList[currentWindowElement.name].x = clientRect.x;\r\n                        this.windowPositionList[currentWindowElement.name].y = clientRect.y;\r\n\r\n                        windowComponent.style.left = \"0\";\r\n                        windowComponent.style.top = \"0\";\r\n\r\n                        windowComponent.style.width = \"calc(100% - 2px)\";\r\n                        windowComponent.style.height = \"calc(100% - 44px)\";\r\n\r\n                        windowComponent.querySelector(\".overlay\").classList.remove(\"drag\");\r\n                    }\r\n                    else {\r\n                        windowComponent.style.left = `${this.windowPositionList[currentWindowElement.name].x}px`;\r\n                        windowComponent.style.top = `${this.windowPositionList[currentWindowElement.name].y}px`;\r\n\r\n                        windowComponent.style.width = this.windowSizeList[currentWindowElement.name].width;\r\n                        windowComponent.style.height = this.windowSizeList[currentWindowElement.name].height;\r\n\r\n                        windowComponent.querySelector(\".overlay\").classList.add(\"drag\");\r\n                    }\r\n\r\n                    windowComponent.classList.toggle(\"maximized\");\r\n\r\n                    this.resizeLogic();\r\n                }\r\n            },\r\n            _close(windowComponent) {\r\n                const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n                if (currentWindowElement !== null) {\r\n                    delete this.windowPositionList[currentWindowElement.name];\r\n                    delete this.windowSizeList[currentWindowElement.name];\r\n                }\r\n            },\r\n            init(windowOpener) {\r\n                const name = windowOpener.getAttribute(\"data-name\");\r\n                const category = windowOpener.getAttribute(\"data-category\");\r\n\r\n                let windowComponent = document.querySelector(`.window_component[data-name='${name}']`);\r\n\r\n                if (windowComponent === null) {\r\n                    const windowComponentEmpty = document.querySelector(\".window_component.empty\");\r\n\r\n                    const newWindowComponent = windowComponentEmpty.cloneNode(true);\r\n                    newWindowComponent.classList.remove(\"empty\");\r\n                    newWindowComponent.classList.add(\"focused\");\r\n                    newWindowComponent.setAttribute(\"data-name\", name);\r\n                    newWindowComponent.setAttribute(\"data-category\", category);\r\n                    newWindowComponent.style.display = \"block\";\r\n\r\n                    if (category === \"project\") {\r\n                        newWindowComponent.querySelector(\".tool_component\").remove();\r\n                        newWindowComponent.querySelector(\".container_component\").remove();\r\n\r\n                        this.$root.$refs.projectComponent.init(newWindowComponent);\r\n                    }\r\n                    else if (category === \"tool\") {\r\n                        newWindowComponent.querySelector(\".project_component\").remove();\r\n                        newWindowComponent.querySelector(\".container_component\").remove();\r\n\r\n                        this.$root.$refs.toolComponent.init(newWindowComponent);\r\n                    }\r\n                    else if (category === \"container\") {\r\n                        newWindowComponent.querySelector(\".project_component\").remove();\r\n                        newWindowComponent.querySelector(\".tool_component\").remove();\r\n\r\n                        this.$root.$refs.containerComponent.init(newWindowComponent);\r\n                    }\r\n                    else {\r\n                        newWindowComponent.querySelector(\".project_component\").remove();\r\n                        newWindowComponent.querySelector(\".tool_component\").remove();\r\n                        newWindowComponent.querySelector(\".container_component\").remove();\r\n                    }\r\n\r\n                    const src = windowOpener.querySelector(\"img\").getAttribute(\"src\");\r\n\r\n                    const icon = newWindowComponent.querySelector(\".left_column img\");\r\n                    icon.setAttribute(\"src\", src);\r\n\r\n                    const title = newWindowComponent.querySelector(\".left_column p\");\r\n                    title.innerHTML = name;\r\n\r\n                    const style = window.getComputedStyle(newWindowComponent);\r\n                    this.windowPositionList[name] = {x: 0, y: 0};\r\n                    this.windowSizeList[name] = {width: style.width, height: style.height};\r\n\r\n                    document.querySelector(\".body_component\").appendChild(newWindowComponent);\r\n\r\n                    windowComponent = newWindowComponent;\r\n\r\n                    this._dragInit(newWindowComponent, [\"window_component\", \"focused\"]);\r\n\r\n                    this.$root.$refs.footerComponent.init(windowOpener);\r\n                }\r\n                else\r\n                    this._unMinimizeElement(name);\r\n\r\n                this._focusCurrentWindow(windowComponent);\r\n\r\n                this._focusCurrentMainbarElement();\r\n            },\r\n            clickLogic(event) {\r\n                if (this._promptLogic() === true)\r\n                    return false;\r\n\r\n                const windowComponent = this._findParent(event.target, [\"window_component\"]);\r\n\r\n                if (windowComponent !== null) {\r\n                    const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n                    if (currentWindowElement !== null) {\r\n                        this._focusCurrentWindow(windowComponent);\r\n\r\n                        this._focusCurrentMainbarElement();\r\n\r\n                        if (event.target.classList.contains(\"button_minimize\") === true) {\r\n                            windowComponent.classList.add(\"minimized\");\r\n                            windowComponent.style.display = \"none\";\r\n\r\n                            this._focusNextWindow();\r\n\r\n                            this.$root.$refs.footerComponent.minimize(windowComponent);\r\n\r\n                            this._focusCurrentMainbarElement();\r\n                        }\r\n                        else if (event.target.classList.contains(\"button_maximize\") === true)\r\n                            this._changeAppearance(windowComponent);\r\n                        else if (event.target.classList.contains(\"button_close\") === true) {\r\n                            this.$root.$refs.projectSshComponent.close(windowComponent);\r\n                            this.$root.$refs.containerCommandComponent.close(windowComponent);\r\n                            this.$root.$refs.containerTerminalComponent.close(windowComponent);\r\n                            this.$root.$refs.containerDataComponent.close(windowComponent);\r\n\r\n                            windowComponent.parentNode.removeChild(windowComponent);\r\n\r\n                            this._focusNextWindow();\r\n\r\n                            this.$root.$refs.footerComponent.remove(windowComponent);\r\n\r\n                            this._focusCurrentMainbarElement();\r\n\r\n                            this._close(windowComponent);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    if (this.$root.$refs.promptComponent.clicked === true) {\r\n                        this.$root.$refs.promptComponent.clicked = false;\r\n\r\n                        return false;\r\n                    }\r\n\r\n                    const windowOpener = this._findParent(event.target, [\"window_opener\"]);\r\n                    const mainbarElement = this._findParent(event.target, [\"mainbar_element\", \"program\"]);\r\n\r\n                    if (windowOpener === null && mainbarElement === null) {\r\n                        this._focusCurrentWindow();\r\n\r\n                        this._focusCurrentMainbarElement();\r\n                    }\r\n                }\r\n            },\r\n            doubleClickLogic(event) {\r\n                if (this._promptLogic() === true)\r\n                    return false;\r\n\r\n                const windowComponent = this._findParent(event.target, [\"window_component\"]);\r\n\r\n                let overlayElement = event !== undefined ? this._findParent(event.target, [\"overlay\"]) : null;\r\n\r\n                if (overlayElement !== null)\r\n                    this._changeAppearance(windowComponent);\r\n            },\r\n            resizeLogic() {\r\n                if (window.innerWidth < this._setting().systemData.desktopWidth) {\r\n                    const windowComponentList = document.querySelectorAll(\".window_component:not(.empty)\");\r\n\r\n                    for (const value of windowComponentList) {\r\n                        value.style.transform = \"translate3d(0, 0, 0)\";\r\n                    }\r\n                }\r\n\r\n                this.$root.$refs.projectSshComponent.resizeLogic();\r\n                this.$root.$refs.containerTerminalComponent.resizeLogic();\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                windowPositionList: [],\r\n                windowSizeList: []\r\n            };\r\n        },\r\n        created() {\r\n            this.$root.$refs.windowComponent = this;\r\n        },\r\n        beforeDestroy() {}\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    @media(max-width: $mobileWidth) {\r\n        .window_component {\r\n            width: 80%;\r\n        }\r\n    }\r\n    @media(min-width: $desktopWidth) {\r\n        .window_component {\r\n            width: 50%;\r\n        }\r\n    }\r\n\r\n    .window_component {\r\n        display: none;\r\n        position: fixed;\r\n        height: 75%;\r\n        border: 1px solid #0078d7;\r\n\r\n        box-shadow: 0px 0px 5px #000000;\r\n        -webkit-box-shadow: 0px 0px 5px #000000;\r\n        -moz-box-shadow: 0px 0px 5px #000000;\r\n\r\n        &.focused {\r\n            .header {\r\n                .overlay {\r\n                    opacity: 0;\r\n                    right: 132px;\r\n                }\r\n\r\n                .drag {\r\n                    cursor: move;\r\n                }\r\n            }\r\n\r\n            .body {\r\n                .overlay {\r\n                    display: none;\r\n                }\r\n            }\r\n        }\r\n\r\n        .header {\r\n            position: relative;\r\n            display: flex;\r\n            justify-content: space-between;\r\n            background-color: #0078d7;\r\n            height: 28px;\r\n\r\n            .overlay {\r\n                position: absolute;\r\n                top: 0;\r\n                right: 0;\r\n                bottom: 0;\r\n                left: 0;\r\n                background: #ececec;\r\n                opacity: 0.5;\r\n            }\r\n\r\n            .left_column {\r\n                cursor: default;\r\n\r\n                img {\r\n                    position: relative;\r\n                    top: 50%;\r\n                    left: 8px;\r\n                    transform: translate(0, -50%);\r\n                    display: block;\r\n                    width: 20px;\r\n                }\r\n\r\n                p {\r\n                    color: #ffffff;\r\n                    margin: 5px;\r\n                    position: absolute;\r\n                    top: 0;\r\n                    left: 30px;\r\n                }\r\n            }\r\n\r\n            .right_column {\r\n                .button {\r\n                    width: 18px;\r\n                    height: 18px;\r\n                    cursor: pointer;\r\n                    padding: 5px 13px;\r\n\r\n                    &:hover {\r\n                        background-color: #1a86db;\r\n                    }\r\n                }\r\n\r\n                .button_close {\r\n                    &:hover {\r\n                        background-color: #ff0000 !important;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .body {\r\n            position: relative;\r\n            background: #232323;\r\n            height: calc(100% - 28px);\r\n            color: #ffffff;\r\n\r\n            .overlay {\r\n                display: block;\r\n                position: absolute;\r\n                top: 0;\r\n                right: 0;\r\n                bottom: 0;\r\n                left: 0;\r\n            }\r\n        }\r\n    }\r\n</style>"]}]}