{"remainingRequest":"/home/user_1/root/system/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/user_1/root/system/src/components/ProjectSsh.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/user_1/root/system/src/components/ProjectSsh.vue","mtime":1612844515466},{"path":"/home/user_1/root/system/node_modules/cache-loader/dist/cjs.js","mtime":1612517717532},{"path":"/home/user_1/root/system/node_modules/thread-loader/dist/cjs.js","mtime":1612517717581},{"path":"/home/user_1/root/system/node_modules/babel-loader/lib/index.js","mtime":1612517717486},{"path":"/home/user_1/root/system/node_modules/cache-loader/dist/cjs.js","mtime":1612517717532},{"path":"/home/user_1/root/system/node_modules/vue-loader/lib/index.js","mtime":1612802232969}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBDb25maWcgZnJvbSAiQC9hc3NldHMvanMvQ29uZmlnLmpzIjsKaW1wb3J0IEhlbHBlciBmcm9tICJAL2Fzc2V0cy9qcy9IZWxwZXIuanMiOwppbXBvcnQgU2lvIGZyb20gIkAvYXNzZXRzL2pzL1Npby5qcyI7CgppbXBvcnQge1Rlcm1pbmFsfSBmcm9tICJ4dGVybSI7CmltcG9ydCB7Rml0QWRkb259IGZyb20gInh0ZXJtLWFkZG9uLWZpdCI7CmltcG9ydCAieHRlcm0vY3NzL3h0ZXJtLmNzcyI7CgpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiAiUHJvamVjdFNzaENvbXBvbmVudCIsCiAgICAvL2NvbXBvbmVudHM6IHt9LAogICAgY29tcHV0ZWQ6IHsKCiAgICB9LAogICAgbWV0aG9kczogewogICAgICAgIF9zZXR0aW5nOiBDb25maWcuc2V0dGluZywKICAgICAgICBfZmluZFBhcmVudDogSGVscGVyLmZpbmRQYXJlbnQsCiAgICAgICAgX2N1cnJlbnRXaW5kb3dFbGVtZW50OiBIZWxwZXIuY3VycmVudFdpbmRvd0VsZW1lbnQsCiAgICAgICAgX3JlcGxhY2VOYW1lOiBIZWxwZXIucmVwbGFjZU5hbWUsCiAgICAgICAgX2NyZWF0ZVh0ZXJtKHdpbmRvd0NvbXBvbmVudCkgewogICAgICAgICAgICBjb25zdCB0ZXJtaW5hbENvbXBvbmVudCA9IHdpbmRvd0NvbXBvbmVudC5xdWVyeVNlbGVjdG9yKCIudGVybWluYWxfcHJvamVjdF9jb21wb25lbnQiKTsKCiAgICAgICAgICAgIHRoaXMueHRlcm0gPSBuZXcgVGVybWluYWwoewogICAgICAgICAgICAgICAgY3Vyc29yQmxpbms6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuZml0QWRkb24gPSBuZXcgRml0QWRkb24oKTsKICAgICAgICAgICAgdGhpcy54dGVybS5sb2FkQWRkb24odGhpcy5maXRBZGRvbik7CiAgICAgICAgICAgIHRoaXMueHRlcm0ub3Blbih0ZXJtaW5hbENvbXBvbmVudCk7CiAgICAgICAgICAgIHRoaXMueHRlcm0uZm9jdXMoKTsKCiAgICAgICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSB0ZXJtaW5hbENvbXBvbmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSB0ZXJtaW5hbENvbXBvbmVudC5xdWVyeVNlbGVjdG9yKCIudGVybWluYWwueHRlcm0iKTsKCiAgICAgICAgICAgIHRlcm1pbmFsLnN0eWxlLmhlaWdodCA9IGAke2NsaWVudFJlY3QuaGVpZ2h0fXB4YDsKCiAgICAgICAgICAgIHRoaXMuZml0QWRkb24uZml0KCk7CgogICAgICAgICAgICBjb25zdCBzaXplID0gdGhpcy5maXRBZGRvbi5wcm9wb3NlRGltZW5zaW9ucygpOwoKICAgICAgICAgICAgU2lvLnNlbmRNZXNzYWdlKCJ0X3B0eV9zdGFydCIsIHsKICAgICAgICAgICAgICAgIHRhZzogInNzaCIsCiAgICAgICAgICAgICAgICBzaXplOiBbc2l6ZS5jb2xzLCBzaXplLnJvd3NdCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY29uc3QgcGF0aEtleSA9IGAke3RoaXMuX3NldHRpbmcoKS5zeXN0ZW1EYXRhLnBhdGhLZXl9LyR7dGhpcy5pbnB1dEtleVB1YmxpYy52YWx1ZX1gOwoKICAgICAgICAgICAgbGV0IGNvbW1hbmQgPSAiIjsKCiAgICAgICAgICAgIGlmICh0aGlzLmlucHV0UGFzc3dvcmQudmFsdWUgIT09ICIiKSB7CiAgICAgICAgICAgICAgICBjb21tYW5kID0gYHNzaHBhc3MgLXAgIiR7dGhpcy5pbnB1dFBhc3N3b3JkLnZhbHVlfSIgc3NoICR7dGhpcy5pbnB1dFVzZXJuYW1lLnZhbHVlfUAke3RoaXMuaW5wdXRTZXJ2ZXIudmFsdWV9YDsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmICh0aGlzLmlucHV0S2V5UHVibGljLnZhbHVlICE9PSAiIikgewogICAgICAgICAgICAgICAgY29tbWFuZCA9IGBjaG1vZCA0MDAgJHtwYXRoS2V5fSAmJiBzc2ggLWkgJHtwYXRoS2V5fSAke3RoaXMuaW5wdXRVc2VybmFtZS52YWx1ZX1AJHt0aGlzLmlucHV0U2VydmVyLnZhbHVlfWA7CiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIGlmIChjb21tYW5kID09PSAiIikKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCiAgICAgICAgICAgIFNpby5zZW5kTWVzc2FnZSgidF9wdHlfaSIsIHsKICAgICAgICAgICAgICAgIHRhZzogInNzaCIsCiAgICAgICAgICAgICAgICBjbWQ6IGBoaXN0b3J5IC1jICYmIGhpc3RvcnkgLXcgJiYgY2xlYXIgJiYgJHtjb21tYW5kfVxyYAogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIHRoaXMueHRlcm0ub25EYXRhKChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICBTaW8uc2VuZE1lc3NhZ2UoInRfcHR5X2kiLCB7CiAgICAgICAgICAgICAgICAgICAgdGFnOiAic3NoIiwKICAgICAgICAgICAgICAgICAgICBjbWQ6IGRhdGEKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIFNpby5yZWFkTWVzc2FnZSgidF9wdHlfb19zc2giLCAoZGF0YSkgPT4gewogICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY21kLmluZGV4T2YoIiBjbG9zZWQgYnkgIikgIT09IC0xIHx8IGRhdGEuY21kLmluZGV4T2YoImxvZ291dCIpICE9PSAtMSB8fCB0aGlzLnNlbGVjdEVkaXQuc2VsZWN0ZWRJbmRleCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVYdGVybSh0ZXJtaW5hbCk7CgogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy54dGVybSAhPT0gdW5kZWZpbmVkICYmIGRhdGEudGFnICE9PSB1bmRlZmluZWQgJiYgZGF0YS5jbWQgIT09IHVuZGVmaW5lZCkKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54dGVybS53cml0ZShkYXRhLmNtZCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgX3JlbW92ZVh0ZXJtKHRlcm1pbmFsKSB7CiAgICAgICAgICAgIGlmICh0ZXJtaW5hbCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgU2lvLnN0b3BSZWFkKCJ0X3B0eV9vX3NzaCIpOwoKICAgICAgICAgICAgICAgIFNpby5zZW5kTWVzc2FnZSgidF9wdHlfY2xvc2UiLCB7dGFnOiAic3NoIn0pOwoKICAgICAgICAgICAgICAgIHRoaXMueHRlcm0gPSBudWxsOwogICAgICAgICAgICAgICAgdGhpcy5maXRBZGRvbiA9IG51bGw7CgogICAgICAgICAgICAgICAgdGVybWluYWwucmVtb3ZlKCk7CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGluaXQod2luZG93Q29tcG9uZW50KSB7CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRXaW5kb3dFbGVtZW50ID0gdGhpcy5fY3VycmVudFdpbmRvd0VsZW1lbnQod2luZG93Q29tcG9uZW50KTsKCiAgICAgICAgICAgIGlmIChjdXJyZW50V2luZG93RWxlbWVudCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50UGFydDFDb250YWluZXIgPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigiLnBhcnRfMV9jb250YWluZXIiKTsKICAgICAgICAgICAgICAgIHRoaXMuZWxlbWVudFBhcnQyQ29udGFpbmVyID0gd2luZG93Q29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoIi5wYXJ0XzJfY29udGFpbmVyIik7CiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEVkaXQgPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigiLnBhcnRfMV9jb250YWluZXIgc2VsZWN0W25hbWU9J2VkaXQnXSIpOwogICAgICAgICAgICAgICAgdGhpcy5pbnB1dE5hbWUgPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigiLnBhcnRfMV9jb250YWluZXIgaW5wdXRbbmFtZT0nbmFtZSddIik7CiAgICAgICAgICAgICAgICB0aGlzLmlucHV0U2VydmVyID0gd2luZG93Q29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoIi5wYXJ0XzFfY29udGFpbmVyIGlucHV0W25hbWU9J3NlcnZlciddIik7CiAgICAgICAgICAgICAgICB0aGlzLmlucHV0VXNlcm5hbWUgPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigiLnBhcnRfMV9jb250YWluZXIgaW5wdXRbbmFtZT0ndXNlcm5hbWUnXSIpOwogICAgICAgICAgICAgICAgdGhpcy5pbnB1dFBhc3N3b3JkID0gd2luZG93Q29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoIi5wYXJ0XzFfY29udGFpbmVyIGlucHV0W25hbWU9J3Bhc3N3b3JkJ10iKTsKICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRLZXlQdWJsaWMgPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigiLnBhcnRfMV9jb250YWluZXIgaW5wdXRbbmFtZT0na2V5X3B1YmxpYyddIik7CiAgICAgICAgICAgICAgICB0aGlzLnRleHRhcmVhRGVzY3JpcHRpb24gPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigidGV4dGFyZWFbbmFtZT0nZGVzY3JpcHRpb24nXSIpOwogICAgICAgICAgICAgICAgdGhpcy5idXR0b25EZWxldGUgPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigiLmJ1dHRvbl9jbWRfd2luZG93LmRlbGV0ZSIpOwogICAgICAgICAgICAgICAgdGhpcy5idXR0b25TYXZlID0gd2luZG93Q29tcG9uZW50LnF1ZXJ5U2VsZWN0b3IoIi5idXR0b25fY21kX3dpbmRvdy5zYXZlIik7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0RWRpdCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIFNpby5zZW5kTWVzc2FnZSgidF9leGVjX2kiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogInNzaEluaXQiLAogICAgICAgICAgICAgICAgICAgICAgICBjbWQ6IGBscyAiJHt0aGlzLl9zZXR0aW5nKCkuc3lzdGVtRGF0YS5wYXRoU2V0dGluZ30iLyoke3RoaXMuX3NldHRpbmcoKS5zeXN0ZW1EYXRhLmV4dGVuc2lvblNzaH0gfCBzZWQgJ3MjLiovIyMnYAogICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICBTaW8ucmVhZE1lc3NhZ2UoInRfZXhlY19vX3NzaEluaXQiLCAoZGF0YSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkYXRhLm91dCAhPT0gdW5kZWZpbmVkID8gZGF0YS5vdXQgOiBkYXRhLmVycjsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3V0U3BsaXQgPSByZXN1bHQuc3BsaXQoIlxuIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBvdXRTcGxpdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gIiIgJiYgdmFsdWUuaW5kZXhPZigibHM6ICIpID09PSAtMSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJvcHRpb24iKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gdmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi50ZXh0ID0gdmFsdWUucmVwbGFjZSh0aGlzLl9zZXR0aW5nKCkuc3lzdGVtRGF0YS5leHRlbnNpb25Tc2gsICIiKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RFZGl0LmFwcGVuZENoaWxkKG9wdGlvbik7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jbG9zZSAhPT0gdW5kZWZpbmVkKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2lvLnN0b3BSZWFkKCJ0X2V4ZWNfb19zc2hJbml0Iik7CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNsaWNrTG9naWMoZXZlbnQpIHsKICAgICAgICAgICAgY29uc3Qgd2luZG93Q29tcG9uZW50ID0gdGhpcy5fZmluZFBhcmVudChldmVudC50YXJnZXQsIFsic3NoX2NvbXBvbmVudCJdLCBbIndpbmRvd19jb21wb25lbnQiXSk7CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRXaW5kb3dFbGVtZW50ID0gdGhpcy5fY3VycmVudFdpbmRvd0VsZW1lbnQod2luZG93Q29tcG9uZW50KTsKCiAgICAgICAgICAgIGlmIChjdXJyZW50V2luZG93RWxlbWVudCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgaWYgKHRoaXMueHRlcm0gIT09IG51bGwpCiAgICAgICAgICAgICAgICAgICAgdGhpcy54dGVybS5mb2N1cygpOwoKICAgICAgICAgICAgICAgIGNvbnN0IG1lbnVFbGVtZW50ID0gdGhpcy5fZmluZFBhcmVudChldmVudC50YXJnZXQsIFsibWVudV9zc2giXSk7CgogICAgICAgICAgICAgICAgaWYgKG1lbnVFbGVtZW50ICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgYnV0dG9uTGlzdCA9IG1lbnVFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIi5idXR0b24iKTsKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBBcnJheS5mcm9tKGJ1dHRvbkxpc3QpLmluZGV4T2YoZXZlbnQudGFyZ2V0KTsKCiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID49IDApIHsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiBidXR0b25MaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZS5jbGFzc0xpc3QucmVtb3ZlKCJmb2N1c2VkIik7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbkxpc3RbaW5kZXhdLmNsYXNzTGlzdC5hZGQoImZvY3VzZWQiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50UGFydDFDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRQYXJ0MkNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluZGV4ID09PSAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRQYXJ0MUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50UGFydDJDb250YWluZXIuc3R5bGUuZGlzcGxheSA9ICJibG9jayI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGVybWluYWwgPSB3aW5kb3dDb21wb25lbnQucXVlcnlTZWxlY3RvcigiLnRlcm1pbmFsLnh0ZXJtIik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRlcm1pbmFsID09PSBudWxsICYmIHRoaXMuc2VsZWN0RWRpdC5zZWxlY3RlZEluZGV4ID4gMCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVYdGVybSh3aW5kb3dDb21wb25lbnQpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0RWRpdEluZGV4T2xkICE9IHRoaXMuc2VsZWN0RWRpdC5zZWxlY3RlZEluZGV4KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlbW92ZVh0ZXJtKHRlcm1pbmFsKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NyZWF0ZVh0ZXJtKHdpbmRvd0NvbXBvbmVudCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RWRpdEluZGV4T2xkID0gdGhpcy5zZWxlY3RFZGl0LnNlbGVjdGVkSW5kZXg7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RFZGl0LnN0eWxlLmJvcmRlckNvbG9yID0gInRyYW5zcGFyZW50IjsKICAgICAgICAgICAgICAgIHRoaXMuaW5wdXROYW1lLnN0eWxlLmJvcmRlckNvbG9yID0gInRyYW5zcGFyZW50IjsKICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRTZXJ2ZXIuc3R5bGUuYm9yZGVyQ29sb3IgPSAidHJhbnNwYXJlbnQiOwogICAgICAgICAgICAgICAgdGhpcy5pbnB1dFVzZXJuYW1lLnN0eWxlLmJvcmRlckNvbG9yID0gInRyYW5zcGFyZW50IjsKCiAgICAgICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygic2F2ZSIpID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW5wdXROYW1lQ2hlY2sgPSAvXltBLVphLXowLTktXyBdKyQvLnRlc3QodGhpcy5pbnB1dE5hbWUudmFsdWUpOwoKICAgICAgICAgICAgICAgICAgICBpZiAoaW5wdXROYW1lQ2hlY2sgPT09IHRydWUgJiYgdGhpcy5pbnB1dE5hbWUudmFsdWUgIT09ICIiICYmIHRoaXMuaW5wdXRTZXJ2ZXIudmFsdWUgIT09ICIiICYmIHRoaXMuaW5wdXRVc2VybmFtZS52YWx1ZSAhPT0gIiIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dE5hbWVSZXBsYWNlID0gdGhpcy5fcmVwbGFjZU5hbWUodGhpcy5pbnB1dE5hbWUudmFsdWUsIC9ccy9nLCB0cnVlKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIFNpby5zZW5kTWVzc2FnZSgidF9jcnlwdF9lbmNyeXB0X2kiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6ICJzc2hTZXR0aW5nIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHRoaXMuaW5wdXRQYXNzd29yZCAhPT0gbnVsbCA/IHRoaXMuaW5wdXRQYXNzd29yZC52YWx1ZSA6ICIiCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgU2lvLnJlYWRNZXNzYWdlKCJ0X2NyeXB0X2VuY3J5cHRfb19zc2hTZXR0aW5nIiwgKGRhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpby5zdG9wUmVhZCgidF9jcnlwdF9lbmNyeXB0X29fc3NoU2V0dGluZyIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdGhpcy5pbnB1dE5hbWUudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VydmVyOiB0aGlzLmlucHV0U2VydmVyLnZhbHVlLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLmlucHV0VXNlcm5hbWUudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFzc3dvcmQ6IGRhdGEub3V0LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleV9wdWJsaWM6IHRoaXMuaW5wdXRLZXlQdWJsaWMudmFsdWUsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHRoaXMudGV4dGFyZWFEZXNjcmlwdGlvbi52YWx1ZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgc2V0dGluZyBmaWxlCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW8uc2VuZE1lc3NhZ2UoInRfZXhlY19zdHJlYW1faSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6ICJzc2hDbGlja0xvZ2ljU2F2ZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kOiAid3JpdGUiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGAiJHt0aGlzLl9zZXR0aW5nKCkuc3lzdGVtRGF0YS5wYXRoU2V0dGluZ30vJHt0aGlzLmlucHV0TmFtZVJlcGxhY2V9JHt0aGlzLl9zZXR0aW5nKCkuc3lzdGVtRGF0YS5leHRlbnNpb25Tc2h9ImAsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoY29udGVudCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpby5yZWFkTWVzc2FnZSgidF9leGVjX3N0cmVhbV9vX3NzaENsaWNrTG9naWNTYXZlIiwgKGRhdGEpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZGF0YS5jaHVuayA9PT0gImVuZCIpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2lvLnN0b3BSZWFkKCJ0X2V4ZWNfc3RyZWFtX29fc3NoQ2xpY2tMb2dpY1NhdmUiKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gYCR7dGhpcy5pbnB1dE5hbWVSZXBsYWNlfSR7dGhpcy5fc2V0dGluZygpLnN5c3RlbURhdGEuZXh0ZW5zaW9uU3NofWA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RFZGl0LnF1ZXJ5U2VsZWN0b3IoYG9wdGlvblt2YWx1ZT0nJHtvcHRpb25WYWx1ZX0nYCkgPT09IG51bGwpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnZhbHVlID0gb3B0aW9uVmFsdWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRpb24udGV4dCA9IHRoaXMuaW5wdXROYW1lUmVwbGFjZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RWRpdC5hcHBlbmRDaGlsZChvcHRpb24pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0RWRpdC5xdWVyeVNlbGVjdG9yKGBvcHRpb25bdmFsdWU9JyR7b3B0aW9uVmFsdWV9J2ApLnNlbGVjdGVkID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkRlbGV0ZS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dE5hbWUudmFsdWUgPT09ICIiIHx8IGlucHV0TmFtZUNoZWNrID09PSBmYWxzZSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXROYW1lLnN0eWxlLmJvcmRlckNvbG9yID0gIiNmZjAwMDAiOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dFNlcnZlci52YWx1ZSA9PT0gIiIpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0U2VydmVyLnN0eWxlLmJvcmRlckNvbG9yID0gIiNmZjAwMDAiOwogICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pbnB1dFVzZXJuYW1lLnZhbHVlID09PSAiIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRVc2VybmFtZS5zdHlsZS5ib3JkZXJDb2xvciA9ICIjZmYwMDAwIjsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoImRlbGV0ZSIpID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0RWRpdC5zZWxlY3RlZEluZGV4ID4gMCkgewogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRyb290LiRyZWZzLnByb21wdENvbXBvbmVudC5zaG93KHdpbmRvd0NvbXBvbmVudCwgIllvdSByZWFsbHkgd2FudCB0byBkZWxldGUgdGhpcyBzc2g/IiwgKCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgU2lvLnNlbmRNZXNzYWdlKCJ0X2V4ZWNfaSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6ICJzc2hDbGlja0xvZ2ljRGVsZXRlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbWQ6IGBybSAiJHt0aGlzLl9zZXR0aW5nKCkuc3lzdGVtRGF0YS5wYXRoU2V0dGluZ30vJHt0aGlzLmlucHV0TmFtZVJlcGxhY2V9JHt0aGlzLl9zZXR0aW5nKCkuc3lzdGVtRGF0YS5leHRlbnNpb25Tc2h9ImAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpby5yZWFkTWVzc2FnZSgidF9leGVjX29fc3NoQ2xpY2tMb2dpY0RlbGV0ZSIsIChkYXRhKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY2xvc2UgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNlbGVjdEVkaXQuc2VsZWN0ZWRJbmRleCA+IDAgJiYgdGhpcy5zZWxlY3RFZGl0Lm9wdGlvbnNbdGhpcy5zZWxlY3RFZGl0LnNlbGVjdGVkSW5kZXhdLnZhbHVlICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpby5zdG9wUmVhZCgidF9leGVjX29fc3NoQ2xpY2tMb2dpY0RlbGV0ZSIpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RFZGl0Lm9wdGlvbnNbdGhpcy5zZWxlY3RFZGl0LnNlbGVjdGVkSW5kZXhdLnJlbW92ZSgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdEVkaXQuc2VsZWN0ZWRJbmRleCA9IDA7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0TmFtZS52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0TmFtZVJlcGxhY2UgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFNlcnZlci52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0VXNlcm5hbWUudmFsdWUgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dFBhc3N3b3JkLnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRLZXlQdWJsaWMudmFsdWUgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0YXJlYURlc2NyaXB0aW9uLnZhbHVlID0gIiI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkRlbGV0ZS5zdHlsZS5kaXNwbGF5ID0gIm5vbmUiOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIGNoYW5nZUxvZ2ljKGV2ZW50KSB7CiAgICAgICAgICAgIGNvbnN0IHdpbmRvd0NvbXBvbmVudCA9IHRoaXMuX2ZpbmRQYXJlbnQoZXZlbnQudGFyZ2V0LCBbInNzaF9jb21wb25lbnQiXSwgWyJ3aW5kb3dfY29tcG9uZW50Il0pOwogICAgICAgICAgICBjb25zdCBjdXJyZW50V2luZG93RWxlbWVudCA9IHRoaXMuX2N1cnJlbnRXaW5kb3dFbGVtZW50KHdpbmRvd0NvbXBvbmVudCk7CgogICAgICAgICAgICBpZiAoY3VycmVudFdpbmRvd0VsZW1lbnQgIT09IG51bGwpIHsKICAgICAgICAgICAgICAgIGlmIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCJlZGl0IikgPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3RFZGl0LnNlbGVjdGVkSW5kZXggPiAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvblZhbHVlID0gdGhpcy5zZWxlY3RFZGl0Lm9wdGlvbnNbdGhpcy5zZWxlY3RFZGl0LnNlbGVjdGVkSW5kZXhdLnZhbHVlOwoKICAgICAgICAgICAgICAgICAgICAgICAgU2lvLnNlbmRNZXNzYWdlKCJ0X2V4ZWNfc3RyZWFtX2kiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWc6ICJzc2hDaGFuZ2VMb2dpY0VkaXQiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgY21kOiAicmVhZCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBgIiR7dGhpcy5fc2V0dGluZygpLnN5c3RlbURhdGEucGF0aFNldHRpbmd9LyR7b3B0aW9uVmFsdWV9ImAKICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICBsZXQgYnVmZmVyID0gIiI7CgogICAgICAgICAgICAgICAgICAgICAgICBTaW8ucmVhZE1lc3NhZ2UoInRfZXhlY19zdHJlYW1fb19zc2hDaGFuZ2VMb2dpY0VkaXQiLCAoZGF0YSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEuY2h1bmsgIT09ICJlbmQiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1ZmZlciArPSBkYXRhLmNodW5rOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgU2lvLnN0b3BSZWFkKCJ0X2V4ZWNfc3RyZWFtX29fc3NoQ2hhbmdlTG9naWNFZGl0Iik7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UoYnVmZmVyKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dE5hbWUudmFsdWUgPSByZXN1bHQubmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0TmFtZVJlcGxhY2UgPSB0aGlzLl9yZXBsYWNlTmFtZShyZXN1bHQubmFtZSwgL1xzL2csIHRydWUpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRTZXJ2ZXIudmFsdWUgPSByZXN1bHQuc2VydmVyOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRVc2VybmFtZS52YWx1ZSA9IHJlc3VsdC51c2VybmFtZTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0S2V5UHVibGljLnZhbHVlID0gcmVzdWx0LmtleV9wdWJsaWM7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZXh0YXJlYURlc2NyaXB0aW9uLnZhbHVlID0gcmVzdWx0LmRlc2NyaXB0aW9uOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJ1dHRvbkRlbGV0ZS5zdHlsZS5kaXNwbGF5ID0gImlubGluZS1ibG9jayI7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNpby5zZW5kTWVzc2FnZSgidF9jcnlwdF9kZWNyeXB0X2kiLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogInNzaFNldHRpbmciLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXg6IHJlc3VsdC5wYXNzd29yZAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW8ucmVhZE1lc3NhZ2UoInRfY3J5cHRfZGVjcnlwdF9vX3NzaFNldHRpbmciLCAoZGF0YSkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTaW8uc3RvcFJlYWQoInRfY3J5cHRfZGVjcnlwdF9vX3NzaFNldHRpbmciKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRQYXNzd29yZC52YWx1ZSA9IGRhdGEub3V0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXROYW1lLnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXROYW1lUmVwbGFjZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0U2VydmVyLnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5wdXRVc2VybmFtZS52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlucHV0UGFzc3dvcmQudmFsdWUgPSAiIjsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pbnB1dEtleVB1YmxpYy52YWx1ZSA9ICIiOwogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRleHRhcmVhRGVzY3JpcHRpb24udmFsdWUgPSAiIjsKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYnV0dG9uRGVsZXRlLnN0eWxlLmRpc3BsYXkgPSAibm9uZSI7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICByZXNpemVMb2dpYygpIHsKICAgICAgICAgICAgY29uc3QgdGVybWluYWxDb21wb25lbnRMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiLnRlcm1pbmFsX3Byb2plY3RfY29tcG9uZW50Iik7CgogICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIHRlcm1pbmFsQ29tcG9uZW50TGlzdCkgewogICAgICAgICAgICAgICAgY29uc3Qgd2luZG93Q29tcG9uZW50ID0gdGhpcy5fZmluZFBhcmVudCh2YWx1ZSwgWyJ3aW5kb3dfY29tcG9uZW50Il0pOwogICAgICAgICAgICAgICAgY29uc3QgY3VycmVudFdpbmRvd0VsZW1lbnQgPSB0aGlzLl9jdXJyZW50V2luZG93RWxlbWVudCh3aW5kb3dDb21wb25lbnQpOwoKICAgICAgICAgICAgICAgIGlmIChjdXJyZW50V2luZG93RWxlbWVudCAhPT0gbnVsbCkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gdmFsdWUucXVlcnlTZWxlY3RvcigiLnRlcm1pbmFsLnh0ZXJtIik7CgogICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtaW5hbCAhPT0gbnVsbCAmJiB0aGlzLmZpdEFkZG9uICE9PSBudWxsKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsaWVudFJlY3QgPSB2YWx1ZS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgICAgICAgICAgICAgICAgICAgdGVybWluYWwuc3R5bGUuaGVpZ2h0ID0gYCR7Y2xpZW50UmVjdC5oZWlnaHR9cHhgOwoKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maXRBZGRvbi5maXQoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNpemUgPSB0aGlzLmZpdEFkZG9uLnByb3Bvc2VEaW1lbnNpb25zKCk7CgogICAgICAgICAgICAgICAgICAgICAgICBTaW8uc2VuZE1lc3NhZ2UoInRfcHR5X3Jlc2l6ZSIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZzogInNzaCIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplOiBbc2l6ZS5jb2xzLCBzaXplLnJvd3NdCiAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgY2xvc2Uod2luZG93Q29tcG9uZW50KSB7CiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRXaW5kb3dFbGVtZW50ID0gdGhpcy5fY3VycmVudFdpbmRvd0VsZW1lbnQod2luZG93Q29tcG9uZW50KTsKCiAgICAgICAgICAgIGlmIChjdXJyZW50V2luZG93RWxlbWVudCAhPT0gbnVsbCAmJiBjdXJyZW50V2luZG93RWxlbWVudC5uYW1lID09PSAiU3NoIikgewogICAgICAgICAgICAgICAgU2lvLnN0b3BSZWFkKCJ0X3B0eV9vX3NzaCIpOwoKICAgICAgICAgICAgICAgIFNpby5zZW5kTWVzc2FnZSgidF9wdHlfY2xvc2UiLCB7dGFnOiAic3NoIn0pOwoKICAgICAgICAgICAgICAgIHRoaXMueHRlcm0gPSBudWxsOwogICAgICAgICAgICAgICAgdGhpcy5maXRBZGRvbiA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9LAogICAgZGF0YSgpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICBlbGVtZW50UGFydDFDb250YWluZXI6IG51bGwsCiAgICAgICAgICAgIGVsZW1lbnRQYXJ0MkNvbnRhaW5lcjogbnVsbCwKICAgICAgICAgICAgc2VsZWN0RWRpdDogbnVsbCwKICAgICAgICAgICAgc2VsZWN0RWRpdEluZGV4T2xkOiAwLAogICAgICAgICAgICBpbnB1dE5hbWU6IG51bGwsCiAgICAgICAgICAgIGlucHV0TmFtZVJlcGxhY2U6ICIiLAogICAgICAgICAgICBpbnB1dFNlcnZlcjogbnVsbCwKICAgICAgICAgICAgaW5wdXRVc2VybmFtZTogbnVsbCwKICAgICAgICAgICAgaW5wdXRQYXNzd29yZDogbnVsbCwKICAgICAgICAgICAgaW5wdXRLZXlQdWJsaWM6IG51bGwsCiAgICAgICAgICAgIHRleHRhcmVhRGVzY3JpcHRpb246IG51bGwsCiAgICAgICAgICAgIGJ1dHRvbkRlbGV0ZTogbnVsbCwKICAgICAgICAgICAgYnV0dG9uU2F2ZTogbnVsbCwKICAgICAgICAgICAgeHRlcm06IG51bGwsCiAgICAgICAgICAgIGZpdEFkZG9uOiBudWxsCiAgICAgICAgfTsKICAgIH0sCiAgICBjcmVhdGVkKCkgewogICAgICAgIHRoaXMuJHJvb3QuJHJlZnMucHJvamVjdFNzaENvbXBvbmVudCA9IHRoaXM7CiAgICB9LAogICAgYmVmb3JlRGVzdHJveSgpIHt9Cn0K"},{"version":3,"sources":["ProjectSsh.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiDA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ProjectSsh.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"ssh_component\">\r\n        <div class=\"menu_ssh\">\r\n            <p class=\"button focused\">Data</p>\r\n            <p class=\"button\">Console</p>\r\n        </div>\r\n        <div class=\"part_1_container\">\r\n            <div class=\"section\">\r\n                <p>List:</p>\r\n                <select class=\"edit\" name=\"edit\">\r\n                    <option value=\"0\">Edit exist ssh</option>\r\n                </select>\r\n                <div class=\"button_cmd_window delete\">Delete selected</div>\r\n            </div>\r\n            <div class=\"section\">\r\n                <p>Name:</p>\r\n                <input type=\"text\" name=\"name\" value=\"\"/>\r\n            </div>\r\n            <div class=\"section\">\r\n                <p>Server:</p>\r\n                <input type=\"text\" name=\"server\" value=\"\"/>\r\n            </div>\r\n            <div class=\"section\">\r\n                <p>Username:</p>\r\n                <input type=\"text\" name=\"username\" value=\"\"/>\r\n            </div>\r\n            <div class=\"section\">\r\n                <p>Password:</p>\r\n                <input type=\"password\" name=\"password\" value=\"\"/>\r\n            </div>\r\n            <div class=\"section\">\r\n                <p>Key public:</p>\r\n                <input type=\"text\" name=\"key_public\" value=\"\"/>\r\n            </div>\r\n            <div class=\"section\">\r\n                <p>Description:</p>\r\n                <textarea name=\"description\" rows=\"4\"></textarea>\r\n            </div>\r\n            <div class=\"bottom\">\r\n                <div class=\"button_cmd_window save\">Save</div>\r\n            </div>\r\n        </div>\r\n        <div class=\"part_2_container\">\r\n            <div class=\"terminal_project_component\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import Config from \"@/assets/js/Config.js\";\r\n    import Helper from \"@/assets/js/Helper.js\";\r\n    import Sio from \"@/assets/js/Sio.js\";\r\n\r\n    import {Terminal} from \"xterm\";\r\n    import {FitAddon} from \"xterm-addon-fit\";\r\n    import \"xterm/css/xterm.css\";\r\n\r\n    export default {\r\n        name: \"ProjectSshComponent\",\r\n        //components: {},\r\n        computed: {\r\n\r\n        },\r\n        methods: {\r\n            _setting: Config.setting,\r\n            _findParent: Helper.findParent,\r\n            _currentWindowElement: Helper.currentWindowElement,\r\n            _replaceName: Helper.replaceName,\r\n            _createXterm(windowComponent) {\r\n                const terminalComponent = windowComponent.querySelector(\".terminal_project_component\");\r\n\r\n                this.xterm = new Terminal({\r\n                    cursorBlink: true\r\n                });\r\n                this.fitAddon = new FitAddon();\r\n                this.xterm.loadAddon(this.fitAddon);\r\n                this.xterm.open(terminalComponent);\r\n                this.xterm.focus();\r\n\r\n                const clientRect = terminalComponent.getBoundingClientRect();\r\n                const terminal = terminalComponent.querySelector(\".terminal.xterm\");\r\n\r\n                terminal.style.height = `${clientRect.height}px`;\r\n\r\n                this.fitAddon.fit();\r\n\r\n                const size = this.fitAddon.proposeDimensions();\r\n\r\n                Sio.sendMessage(\"t_pty_start\", {\r\n                    tag: \"ssh\",\r\n                    size: [size.cols, size.rows]\r\n                });\r\n\r\n                const pathKey = `${this._setting().systemData.pathKey}/${this.inputKeyPublic.value}`;\r\n\r\n                let command = \"\";\r\n\r\n                if (this.inputPassword.value !== \"\") {\r\n                    command = `sshpass -p \"${this.inputPassword.value}\" ssh ${this.inputUsername.value}@${this.inputServer.value}`;\r\n                }\r\n                else if (this.inputKeyPublic.value !== \"\") {\r\n                    command = `chmod 400 ${pathKey} && ssh -i ${pathKey} ${this.inputUsername.value}@${this.inputServer.value}`;\r\n                }\r\n\r\n                if (command === \"\")\r\n                    return false;\r\n\r\n                Sio.sendMessage(\"t_pty_i\", {\r\n                    tag: \"ssh\",\r\n                    cmd: `history -c && history -w && clear && ${command}\\r`\r\n                });\r\n\r\n                this.xterm.onData((data) => {\r\n                    Sio.sendMessage(\"t_pty_i\", {\r\n                        tag: \"ssh\",\r\n                        cmd: data\r\n                    });\r\n                });\r\n\r\n                Sio.readMessage(\"t_pty_o_ssh\", (data) => {\r\n                    if (terminal !== null) {\r\n                        if (data.cmd.indexOf(\" closed by \") !== -1 || data.cmd.indexOf(\"logout\") !== -1 || this.selectEdit.selectedIndex === 0) {\r\n                            this._removeXterm(terminal);\r\n\r\n                            return;\r\n                        }\r\n\r\n                        if (this.xterm !== undefined && data.tag !== undefined && data.cmd !== undefined)\r\n                            this.xterm.write(data.cmd);\r\n                    }\r\n                });\r\n            },\r\n            _removeXterm(terminal) {\r\n                if (terminal !== null) {\r\n                    Sio.stopRead(\"t_pty_o_ssh\");\r\n\r\n                    Sio.sendMessage(\"t_pty_close\", {tag: \"ssh\"});\r\n\r\n                    this.xterm = null;\r\n                    this.fitAddon = null;\r\n\r\n                    terminal.remove();\r\n                }\r\n            },\r\n            init(windowComponent) {\r\n                const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n                if (currentWindowElement !== null) {\r\n                    this.elementPart1Container = windowComponent.querySelector(\".part_1_container\");\r\n                    this.elementPart2Container = windowComponent.querySelector(\".part_2_container\");\r\n                    this.selectEdit = windowComponent.querySelector(\".part_1_container select[name='edit']\");\r\n                    this.inputName = windowComponent.querySelector(\".part_1_container input[name='name']\");\r\n                    this.inputServer = windowComponent.querySelector(\".part_1_container input[name='server']\");\r\n                    this.inputUsername = windowComponent.querySelector(\".part_1_container input[name='username']\");\r\n                    this.inputPassword = windowComponent.querySelector(\".part_1_container input[name='password']\");\r\n                    this.inputKeyPublic = windowComponent.querySelector(\".part_1_container input[name='key_public']\");\r\n                    this.textareaDescription = windowComponent.querySelector(\"textarea[name='description']\");\r\n                    this.buttonDelete = windowComponent.querySelector(\".button_cmd_window.delete\");\r\n                    this.buttonSave = windowComponent.querySelector(\".button_cmd_window.save\");\r\n\r\n                    if (this.selectEdit !== null) {\r\n                        Sio.sendMessage(\"t_exec_i\", {\r\n                            tag: \"sshInit\",\r\n                            cmd: `ls \"${this._setting().systemData.pathSetting}\"/*${this._setting().systemData.extensionSsh} | sed 's#.*/##'`\r\n                        });\r\n\r\n                        Sio.readMessage(\"t_exec_o_sshInit\", (data) => {\r\n                            const result = data.out !== undefined ? data.out : data.err;\r\n\r\n                            if (result !== undefined) {\r\n                                const outSplit = result.split(\"\\n\");\r\n\r\n                                for (const value of outSplit) {\r\n                                    if (value !== \"\" && value.indexOf(\"ls: \") === -1) {\r\n                                        const option = document.createElement(\"option\");\r\n                                        option.value = value;\r\n                                        option.text = value.replace(this._setting().systemData.extensionSsh, \"\");\r\n                                        this.selectEdit.appendChild(option);\r\n                                    }\r\n                                }\r\n                            }\r\n\r\n                            if (data.close !== undefined)\r\n                                Sio.stopRead(\"t_exec_o_sshInit\");\r\n                        });\r\n                    }\r\n                }\r\n            },\r\n            clickLogic(event) {\r\n                const windowComponent = this._findParent(event.target, [\"ssh_component\"], [\"window_component\"]);\r\n                const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n                if (currentWindowElement !== null) {\r\n                    if (this.xterm !== null)\r\n                        this.xterm.focus();\r\n\r\n                    const menuElement = this._findParent(event.target, [\"menu_ssh\"]);\r\n\r\n                    if (menuElement !== null) {\r\n                        const buttonList = menuElement.querySelectorAll(\".button\");\r\n\r\n                        const index = Array.from(buttonList).indexOf(event.target);\r\n\r\n                        if (index >= 0) {\r\n                            for (const value of buttonList) {\r\n                                value.classList.remove(\"focused\");\r\n                            }\r\n\r\n                            buttonList[index].classList.add(\"focused\");\r\n\r\n                            if (index === 0) {\r\n                                this.elementPart1Container.style.display = \"block\";\r\n                                this.elementPart2Container.style.display = \"none\";\r\n                            } else if (index === 1) {\r\n                                this.elementPart1Container.style.display = \"none\";\r\n                                this.elementPart2Container.style.display = \"block\";\r\n\r\n                                const terminal = windowComponent.querySelector(\".terminal.xterm\");\r\n\r\n                                if (terminal === null && this.selectEdit.selectedIndex > 0)\r\n                                    this._createXterm(windowComponent);\r\n                                else {\r\n                                    if (this.selectEditIndexOld != this.selectEdit.selectedIndex) {\r\n                                        this._removeXterm(terminal);\r\n\r\n                                        this._createXterm(windowComponent);\r\n                                    }\r\n                                }\r\n\r\n                                this.selectEditIndexOld = this.selectEdit.selectedIndex;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    this.selectEdit.style.borderColor = \"transparent\";\r\n                    this.inputName.style.borderColor = \"transparent\";\r\n                    this.inputServer.style.borderColor = \"transparent\";\r\n                    this.inputUsername.style.borderColor = \"transparent\";\r\n\r\n                    if (event.target.classList.contains(\"save\") === true) {\r\n                        const inputNameCheck = /^[A-Za-z0-9-_ ]+$/.test(this.inputName.value);\r\n\r\n                        if (inputNameCheck === true && this.inputName.value !== \"\" && this.inputServer.value !== \"\" && this.inputUsername.value !== \"\") {\r\n                            this.inputNameReplace = this._replaceName(this.inputName.value, /\\s/g, true);\r\n\r\n                            Sio.sendMessage(\"t_crypt_encrypt_i\", {\r\n                                tag: \"sshSetting\",\r\n                                text: this.inputPassword !== null ? this.inputPassword.value : \"\"\r\n                            });\r\n\r\n                            Sio.readMessage(\"t_crypt_encrypt_o_sshSetting\", (data) => {\r\n                                Sio.stopRead(\"t_crypt_encrypt_o_sshSetting\");\r\n\r\n                                const content = {\r\n                                    name: this.inputName.value,\r\n                                    server: this.inputServer.value,\r\n                                    username: this.inputUsername.value,\r\n                                    password: data.out,\r\n                                    key_public: this.inputKeyPublic.value,\r\n                                    description: this.textareaDescription.value\r\n                                };\r\n\r\n                                // Create setting file\r\n                                Sio.sendMessage(\"t_exec_stream_i\", {\r\n                                    tag: \"sshClickLogicSave\",\r\n                                    cmd: \"write\",\r\n                                    path: `\"${this._setting().systemData.pathSetting}/${this.inputNameReplace}${this._setting().systemData.extensionSsh}\"`,\r\n                                    content: JSON.stringify(content)\r\n                                });\r\n\r\n                                Sio.readMessage(\"t_exec_stream_o_sshClickLogicSave\", (data) => {\r\n                                    if (data.chunk === \"end\") {\r\n                                        Sio.stopRead(\"t_exec_stream_o_sshClickLogicSave\");\r\n\r\n                                        const optionValue = `${this.inputNameReplace}${this._setting().systemData.extensionSsh}`;\r\n\r\n                                        if (this.selectEdit.querySelector(`option[value='${optionValue}'`) === null) {\r\n                                            const option = document.createElement(\"option\");\r\n                                            option.value = optionValue;\r\n                                            option.text = this.inputNameReplace;\r\n                                            this.selectEdit.appendChild(option);\r\n\r\n                                            this.selectEdit.querySelector(`option[value='${optionValue}'`).selected = true;\r\n\r\n                                            this.buttonDelete.style.display = \"inline-block\";\r\n                                        }\r\n                                    }\r\n                                });\r\n                            });\r\n                        }\r\n                        else {\r\n                            if (this.inputName.value === \"\" || inputNameCheck === false)\r\n                                this.inputName.style.borderColor = \"#ff0000\";\r\n                            if (this.inputServer.value === \"\")\r\n                                this.inputServer.style.borderColor = \"#ff0000\";\r\n                            if (this.inputUsername.value === \"\")\r\n                                this.inputUsername.style.borderColor = \"#ff0000\";\r\n                        }\r\n                    } else if (event.target.classList.contains(\"delete\") === true) {\r\n                        if (this.selectEdit.selectedIndex > 0) {\r\n                            this.$root.$refs.promptComponent.show(windowComponent, \"You really want to delete this ssh?\", () => {\r\n                                Sio.sendMessage(\"t_exec_i\", {\r\n                                    tag: \"sshClickLogicDelete\",\r\n                                    cmd: `rm \"${this._setting().systemData.pathSetting}/${this.inputNameReplace}${this._setting().systemData.extensionSsh}\"`\r\n                                });\r\n\r\n                                Sio.readMessage(\"t_exec_o_sshClickLogicDelete\", (data) => {\r\n                                    if (data.close !== undefined && this.selectEdit.selectedIndex > 0 && this.selectEdit.options[this.selectEdit.selectedIndex].value !== null) {\r\n                                        Sio.stopRead(\"t_exec_o_sshClickLogicDelete\");\r\n\r\n                                        this.selectEdit.options[this.selectEdit.selectedIndex].remove();\r\n                                        this.selectEdit.selectedIndex = 0;\r\n\r\n                                        this.inputName.value = \"\";\r\n                                        this.inputNameReplace = \"\";\r\n                                        this.inputServer.value = \"\";\r\n                                        this.inputUsername.value = \"\";\r\n                                        this.inputPassword.value = \"\";\r\n                                        this.inputKeyPublic.value = \"\";\r\n                                        this.textareaDescription.value = \"\";\r\n\r\n                                        this.buttonDelete.style.display = \"none\";\r\n                                    }\r\n                                });\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            changeLogic(event) {\r\n                const windowComponent = this._findParent(event.target, [\"ssh_component\"], [\"window_component\"]);\r\n                const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n                if (currentWindowElement !== null) {\r\n                    if (event.target.classList.contains(\"edit\") === true) {\r\n                        if (this.selectEdit.selectedIndex > 0) {\r\n                            const optionValue = this.selectEdit.options[this.selectEdit.selectedIndex].value;\r\n\r\n                            Sio.sendMessage(\"t_exec_stream_i\", {\r\n                                tag: \"sshChangeLogicEdit\",\r\n                                cmd: \"read\",\r\n                                path: `\"${this._setting().systemData.pathSetting}/${optionValue}\"`\r\n                            });\r\n\r\n                            let buffer = \"\";\r\n\r\n                            Sio.readMessage(\"t_exec_stream_o_sshChangeLogicEdit\", (data) => {\r\n                                if (data.chunk !== \"end\")\r\n                                    buffer += data.chunk;\r\n                                else {\r\n                                    Sio.stopRead(\"t_exec_stream_o_sshChangeLogicEdit\");\r\n\r\n                                    const result = JSON.parse(buffer);\r\n\r\n                                    this.inputName.value = result.name;\r\n                                    this.inputNameReplace = this._replaceName(result.name, /\\s/g, true);\r\n                                    this.inputServer.value = result.server;\r\n                                    this.inputUsername.value = result.username;\r\n                                    this.inputKeyPublic.value = result.key_public;\r\n                                    this.textareaDescription.value = result.description;\r\n\r\n                                    this.buttonDelete.style.display = \"inline-block\";\r\n\r\n                                    Sio.sendMessage(\"t_crypt_decrypt_i\", {\r\n                                        tag: \"sshSetting\",\r\n                                        hex: result.password\r\n                                    });\r\n\r\n                                    Sio.readMessage(\"t_crypt_decrypt_o_sshSetting\", (data) => {\r\n                                        Sio.stopRead(\"t_crypt_decrypt_o_sshSetting\");\r\n\r\n                                        this.inputPassword.value = data.out;\r\n                                    });\r\n                                }\r\n                            });\r\n                        }\r\n                        else {\r\n                            this.inputName.value = \"\";\r\n                            this.inputNameReplace = \"\";\r\n                            this.inputServer.value = \"\";\r\n                            this.inputUsername.value = \"\";\r\n                            this.inputPassword.value = \"\";\r\n                            this.inputKeyPublic.value = \"\";\r\n                            this.textareaDescription.value = \"\";\r\n\r\n                            this.buttonDelete.style.display = \"none\";\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            resizeLogic() {\r\n                const terminalComponentList = document.querySelectorAll(\".terminal_project_component\");\r\n\r\n                for (const value of terminalComponentList) {\r\n                    const windowComponent = this._findParent(value, [\"window_component\"]);\r\n                    const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n                    if (currentWindowElement !== null) {\r\n                        const terminal = value.querySelector(\".terminal.xterm\");\r\n\r\n                        if (terminal !== null && this.fitAddon !== null) {\r\n                            const clientRect = value.getBoundingClientRect();\r\n                            terminal.style.height = `${clientRect.height}px`;\r\n\r\n                            this.fitAddon.fit();\r\n\r\n                            const size = this.fitAddon.proposeDimensions();\r\n\r\n                            Sio.sendMessage(\"t_pty_resize\", {\r\n                                tag: \"ssh\",\r\n                                size: [size.cols, size.rows]\r\n                            });\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            close(windowComponent) {\r\n                const currentWindowElement = this._currentWindowElement(windowComponent);\r\n\r\n                if (currentWindowElement !== null && currentWindowElement.name === \"Ssh\") {\r\n                    Sio.stopRead(\"t_pty_o_ssh\");\r\n\r\n                    Sio.sendMessage(\"t_pty_close\", {tag: \"ssh\"});\r\n\r\n                    this.xterm = null;\r\n                    this.fitAddon = null;\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                elementPart1Container: null,\r\n                elementPart2Container: null,\r\n                selectEdit: null,\r\n                selectEditIndexOld: 0,\r\n                inputName: null,\r\n                inputNameReplace: \"\",\r\n                inputServer: null,\r\n                inputUsername: null,\r\n                inputPassword: null,\r\n                inputKeyPublic: null,\r\n                textareaDescription: null,\r\n                buttonDelete: null,\r\n                buttonSave: null,\r\n                xterm: null,\r\n                fitAddon: null\r\n            };\r\n        },\r\n        created() {\r\n            this.$root.$refs.projectSshComponent = this;\r\n        },\r\n        beforeDestroy() {}\r\n    }\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n    .ssh_component {\r\n        .menu_ssh {\r\n            height: 28px;\r\n            background-color: #2b2b2b;\r\n            border-bottom: 1px solid #a0a0a0;\r\n            cursor: pointer;\r\n\r\n            .button {\r\n                display: inline-block;\r\n                padding: 7px 8px;\r\n                font-size: 12px;\r\n            }\r\n\r\n            .focused {\r\n                background-color: #0060ad;\r\n            }\r\n\r\n            p {\r\n                &:hover {\r\n                    background-color: #808080;\r\n                }\r\n            }\r\n        }\r\n\r\n        .part_1_container {\r\n            position: absolute;\r\n            top: 28px;\r\n            bottom: 0;\r\n            left: 0;\r\n            right: 0;\r\n            padding: 10px;\r\n            display: block;\r\n        }\r\n\r\n        .part_2_container {\r\n            position: absolute;\r\n            top: 29px;\r\n            bottom: 0;\r\n            left: 0;\r\n            right: 0;\r\n            display: none;\r\n\r\n            .terminal_project_component {\r\n                position: absolute;\r\n                top: 0;\r\n                bottom: 0;\r\n                left: 0;\r\n                right: 0;\r\n            }\r\n        }\r\n\r\n        .section {\r\n            margin-bottom: 20px;\r\n\r\n            input {\r\n                width: 40%;\r\n            }\r\n\r\n            textarea {\r\n                width: 40%;\r\n                resize: none;\r\n            }\r\n\r\n            .button_cmd_window {\r\n                &.delete {\r\n                    display: none;\r\n                    margin-left: 10px;\r\n                    background-color: #ff0000;\r\n                }\r\n            }\r\n        }\r\n\r\n        .bottom {\r\n            position: absolute;\r\n            bottom: 10px;\r\n            width: 100%;\r\n            text-align: right;\r\n\r\n            .button_cmd_window {\r\n                display: inline-block;\r\n                margin-right: 25px;\r\n            }\r\n        }\r\n    }\r\n</style>"]}]}